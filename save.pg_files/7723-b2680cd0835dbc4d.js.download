"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7723],{17723:(e,s,i)=>{i.d(s,{Yh:()=>r,gu:()=>a,XR:()=>em});var l=i(31085),n=i(25420),o=i(43342);let r=()=>(0,l.jsx)(n.s,{className:"full-page-spinner",flex:"1",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(o.y,{})}),a=(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 33",children:[(0,l.jsx)("polygon",{points:"13.97 27.59 13.97 32.16 0.11 24.16 0.11 8.16 13.97 0.16 17.93 2.45 4.07 10.45 4.07 21.88 13.97 27.59",style:{fill:"#a6a6a6"}}),(0,l.jsx)("polyline",{points:"4.07 21.88 13.97 27.59 13.97 32.16 0.11 24.16",style:{fill:"#b3b3b3"}}),(0,l.jsx)("polygon",{points:"13.97 16.16 13.97 20.74 23.87 15.02 23.87 21.88 13.97 27.59 13.97 32.16 27.83 24.16 27.83 8.16 13.97 16.16",style:{fill:"#bfbfbf"}}),(0,l.jsx)("polygon",{points:"17.93 2.45 17.93 7.02 8.03 12.74 8.03 19.59 4.07 21.88 4.07 10.45 17.93 2.45",style:{fill:"#ccc"}}),(0,l.jsx)("polygon",{points:"19.91 17.31 19.91 19.59 23.87 21.88 23.87 15.02 19.91 17.31",style:{fill:"#ccc"}}),(0,l.jsx)("polygon",{points:"10.01 13.88 10.01 18.45 13.97 20.74 13.97 16.16 10.01 13.88",style:{fill:"#e6e6e6"}}),(0,l.jsx)("polygon",{points:"10.01 13.88 13.97 16.16 27.83 8.16 23.87 5.88 10.01 13.88",style:{fill:"#d9d9d9"}}),(0,l.jsx)("polygon",{points:"4.07 21.88 13.97 27.59 23.87 21.88 19.91 19.59 13.97 23.02 8.03 19.59 4.07 21.88",style:{fill:"#e6e6e6"}})]});var d=i(55276),c=i(63341),t=i(18528),x=i(48574),j=i(40173),u=i(72821),h=i(33683),p=i(48637),g=i(81575),m=i(20501),v=i(3040),f=i(24221),C=i(95986),b=i(52177),y=i(14041),k=i(73893),w=i(91559),z=i(34012),A=i(42948),E=i(83073),S=i(57882),O=(0,i(16003).w)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),I=i(62313),D=i(61778),M=i(90290),T=i(35687),U=i(70323),_=i(32202),N=i(18588),B=i(59742),F=i(97482),R=i(34363),P=i(65446),W=i(18658),L=i(80532),H=i(88865),$=i(82680),G=i(74727),J=i(80853),Z=i(12327),Q=i(50877),V=i(39286);let X=()=>(0,l.jsxs)(I.z,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,l.jsx)(O,{w:4,h:4,color:"red.500"}),(0,l.jsx)(D.E,{fontSize:"sm",color:"red.500",children:(0,l.jsx)(b.x6,{id:"Ofm9ns"})})]}),q=e=>{let{user:s,workspace:i,canDeleteAccount:o}=e;return(0,l.jsxs)(M.F,{status:s||(null==i?void 0:i.memberCount)&&i.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,l.jsxs)(n.s,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,l.jsxs)(n.s,{flex:1,children:[(0,l.jsx)(x.e,{src:null==s?void 0:s.profileImageUrl,size:"sm",name:(null==s?void 0:s.displayName)||(null==i?void 0:i.name)}),(0,l.jsxs)(T.B,{spacing:0,ml:2,flex:"1",children:[(0,l.jsx)(D.E,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==s?void 0:s.displayName)||(null==i?void 0:i.name)}),s&&(0,l.jsx)(D.E,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:s.email}),i&&(0,l.jsx)(D.E,{fontSize:"xs",color:"gray.600",children:(0,l.jsx)(b.x6,{id:"LaQ44M",values:{0:i.memberCount||0}})})]})]}),(0,l.jsx)(n.s,{flexShrink:1,children:(s||i&&(null==i?void 0:i.memberCount)===1)&&(0,l.jsx)(X,{})})]}),(0,l.jsx)(U.c,{borderColor:"blackAlpha.200"}),(0,l.jsxs)(D.E,{pt:2,fontSize:"sm",color:s||(null==i?void 0:i.memberCount)&&i.memberCount<=1?"red.500":"yellow.700",children:[o&&s&&(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.x6,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:V.Ix}})]}),o&&(null==i?void 0:i.memberCount)&&(i.memberCount>1?(0,l.jsxs)(l.Fragment,{children:["⚠️ ",(0,l.jsx)(b.x6,{id:"QnF/9z"})]}):(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.x6,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:V.Ix}})]})),!o&&(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.x6,{id:"eFx5qm"})]})]})]})},Y=e=>{var s,i;let{isOpen:n,onClose:o,user:r}=e,[a,d]=(0,y.useState)(!1),[c,t]=(0,y.useState)(!1),{data:x}=(0,Q.Agb)(),j=(0,_.d)(),[u]=(0,Q.HCE)(),h=(null==x?void 0:null===(i=x.user)||void 0===i?void 0:null===(s=i.workspaceMemberships)||void 0===s?void 0:s.filter(e=>!1===e.disabled))||[],p=h.filter(e=>{var s,i;return"admin"===e.role&&(null===(s=e.workspace)||void 0===s?void 0:s.adminCount)===1&&(null===(i=e.workspace)||void 0===i?void 0:i.memberCount)&&e.workspace.memberCount>1}),g=h.map(e=>e.workspace),m=0===p.length,v=(0,y.useCallback)(()=>{t(!0),u().then(e=>{let{data:s}=e;s&&(window.location.href="".concat(k.$.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(()=>{t(!1),j({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[j,u]);return(0,l.jsxs)(N.aF,{isOpen:n,onClose:o,size:"lg",closeOnOverlayClick:!1,children:[(0,l.jsx)(B.m,{}),(0,l.jsxs)(F.$,{p:2,children:[(0,l.jsx)(R.r,{children:(0,l.jsx)(b.x6,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:V.On}})}),(0,l.jsx)(P.s,{}),(0,l.jsxs)(W.c,{children:[m&&(0,l.jsxs)(T.B,{spacing:3,children:[(0,l.jsx)(D.E,{children:(0,l.jsx)(b.x6,{id:"gICMDu"})}),(0,l.jsxs)(L.az,{children:[(0,l.jsx)(D.E,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.x6,{id:"sG4820"})}),(0,l.jsx)(q,{user:r,canDeleteAccount:m})]}),g&&g.length>0&&(0,l.jsxs)(L.az,{children:[(0,l.jsx)(D.E,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.x6,{id:"dFEw4P"})}),null==g?void 0:g.map(e=>(0,l.jsx)(q,{workspace:e,canDeleteAccount:m},null==e?void 0:e.id))]}),(0,l.jsxs)(L.az,{children:[(0,l.jsx)(D.E,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.x6,{id:"R3XcoA"})}),(0,l.jsxs)(I.z,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,l.jsx)(H.S,{size:"lg",spacing:"1rem",p:3,defaultChecked:a,onChange:e=>d(e.target.checked)}),(0,l.jsx)(D.E,{fontSize:"sm",children:(0,l.jsx)(b.x6,{id:"4YT8Pd"})})]})]})]}),!m&&(0,l.jsx)(T.B,{children:(0,l.jsxs)(L.az,{children:[(0,l.jsx)(D.E,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.x6,{id:"nhUDfL"})}),null==g?void 0:g.map(e=>(0,l.jsx)(q,{workspace:e,canDeleteAccount:m},null==e?void 0:e.id))]})})]}),m&&(0,l.jsx)($.j,{children:(0,l.jsxs)(G.e,{children:[(0,l.jsx)(J.$,{variant:"ghost",colorScheme:"gray",onClick:o,children:(0,l.jsx)(b.x6,{id:"dEgA5A"})}),(0,l.jsx)(J.$,{isDisabled:!a,variant:"hazardous",onClick:v,isLoading:c,loadingText:Z.Ru._({id:"O71YIC"}),children:(0,l.jsx)(b.x6,{id:"dfBVKc"})})]})})]})]})};var K=i(18651),ee=i(27559),es=i(26833),ei=i(49547),el=i(22218),en=i(20671),eo=i(2219),er=i(59835),ea=i(57245),ed=i(67359),ec=i(74327),et=i(33091),ex=i(90754),ej=i(17539);let eu=e=>{let{isOpen:s,onClose:i,onConfirm:n,onDiscard:o,originalLocaleConfirmStrings:r}=e;return(0,l.jsxs)(N.aF,{isOpen:s,onClose:i,size:"xl",children:[(0,l.jsx)(B.m,{}),(0,l.jsxs)(F.$,{children:[(0,l.jsx)(R.r,{children:(0,l.jsxs)(T.B,{spacing:0,children:[(0,l.jsx)(b.x6,{id:"sCTlv5"}),(null==r?void 0:r.title)?(0,l.jsxs)(D.E,{children:["(",null==r?void 0:r.title,")"]}):null]})}),(0,l.jsx)(P.s,{}),(0,l.jsx)(W.c,{children:(0,l.jsxs)(T.B,{spacing:0,children:[(0,l.jsx)(D.E,{children:(0,l.jsx)(b.x6,{id:"EVJO23"})}),(null==r?void 0:r.body)?(0,l.jsxs)(D.E,{children:["(",null==r?void 0:r.body,")"]}):(0,l.jsx)(l.Fragment,{})]})}),(0,l.jsx)($.j,{children:(0,l.jsxs)(G.e,{flexWrap:"wrap",gap:"3",justifyContent:"flex-end",spacing:"0",children:[(0,l.jsx)(J.$,{variant:"ghost",onClick:o,...(null==r?void 0:r.secondaryCTA)?{height:"fit-content",py:4}:{},children:(0,l.jsxs)(T.B,{spacing:0,children:[(0,l.jsx)(b.x6,{id:"3EbjfR"}),(null==r?void 0:r.secondaryCTA)?(0,l.jsxs)(D.E,{children:["(",null==r?void 0:r.secondaryCTA,")"]}):null]})}),(0,l.jsx)(J.$,{variant:"solid",onClick:n,...(null==r?void 0:r.primaryCTA)?{height:"fit-content",py:4}:{},children:(0,l.jsxs)(T.B,{spacing:0,children:[(0,l.jsx)(b.x6,{id:"y3aU20"}),(null==r?void 0:r.primaryCTA)?(0,l.jsxs)(D.E,{children:["(",null==r?void 0:r.primaryCTA,")"]}):null]})})]})})]})]})},eh={cropped:"",original:""},ep=e=>{var s,i,r,a;let{isOpen:d,onClose:j,onAccountDeleteModalOpen:p,user:k,orgId:w}=e,z=(0,_.d)(),[O,{loading:M,error:G}]=(0,Q.H7G)(),[V,X]=(0,y.useState)(!1),{isOpen:q,onOpen:Y,onClose:ep}=(0,ex.E)({id:"account-settings-unsaved-changes"}),{setSettings:eg}=(0,S.ur)(),em=(0,E.O)(),ev=(0,y.useMemo)(()=>em,[]),[ef,eC]=(0,y.useState)(ev),[eb]=(0,y.useState)({title:Z.Ru._({id:"sCTlv5"}),body:Z.Ru._({id:"EVJO23"}),primaryCTA:Z.Ru._({id:"y3aU20"}),secondaryCTA:Z.Ru._({id:"3EbjfR"})});(0,ed.O)(ef);let[ey,ek]=(0,y.useState)(k.firstName||""),[ew,ez]=(0,y.useState)(k.lastName||""),[eA,eE]=(0,y.useState)((null===(s=k.settings)||void 0===s?void 0:s.unsubscribeAnnouncementEmails)||!1),[eS,eO]=(0,y.useState)((null===(i=k.settings)||void 0===i?void 0:i.unsubscribeOnboardingEmails)||!1),eI=!eS,eD=!eA,[eM,eT]=(0,y.useState)(k.profileImageUrl||null),[eU,e_]=(0,y.useState)(eh),[eN,eB]=(0,y.useState)("original"),eF=eU.cropped&&"cropped"===eN?eU.cropped:eU.original&&"original"===eN?eU.original:eM,[eR,eP]=(0,y.useState)("idle"),eW=(0,y.useMemo)(()=>ec.Fk.createUppyInstance(w,{onUploadStart:e=>{e_(eh),eP("uploading"),eB("original"),(0,ej.aI)(e.file.type||"")||eT(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[AccountSettingsModal] onOriginalFileUpload",e),eT(e.src),e_(s=>({...s,original:e.src}))},onUploadComplete:e=>{console.debug("[AccountSettingsModal] onUploadComplete",e),eT(s=>s||e.src),e_(()=>({original:e.src,cropped:e.croppedFace||""})),eP("idle"),eW.cancelAll()},onUploadFailed:()=>{eP("error"),eW.cancelAll()}},"profile"),[w]),{onClick:eL,inputElement:eH}=(0,et.W)({uppy:eW}),e$=(0,y.useCallback)(()=>{p&&(p(),j())},[p,j]),eG=(0,y.useCallback)(()=>{var e,s;eW.cancelAll(),eP("idle"),ek(k.firstName||""),ez(k.lastName||""),eT(k.profileImageUrl||null),eE((null===(e=k.settings)||void 0===e?void 0:e.unsubscribeAnnouncementEmails)||!1),eO((null===(s=k.settings)||void 0===s?void 0:s.unsubscribeOnboardingEmails)||!1),eB("original"),e_(eh),eC(ev)},[k,ev,eW]),eJ=ef!==ev,eZ=!!(null===(r=k.settings)||void 0===r?void 0:r.unsubscribeAnnouncementEmails)!==eA,eQ=!!(null===(a=k.settings)||void 0===a?void 0:a.unsubscribeOnboardingEmails)!==eS,eV=ey!==k.firstName||ew!==k.lastName||eM!==k.profileImageUrl,eX=(0,y.useMemo)(()=>eV||eJ||eZ||eQ,[eJ,eV,eZ,eQ]),eq=(0,y.useCallback)(()=>{if(!eX){j();return}let e=[],s=eJ&&A.jF.includes(ef);eg&&(s||eZ||eQ)&&e.push(eg({set:{...s?{locale:ef}:{},...eZ?{unsubscribeAnnouncementEmails:eA}:{},...eQ?{unsubscribeOnboardingEmails:eS}:{}}})),eV&&e.push(O({variables:{input:{id:k.id,firstName:ey,lastName:ew,profileImageUrl:eM||""}}})),X(!0),Promise.all(e).then(()=>{j(),z({title:(0,l.jsx)(b.x6,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==k?void 0:k.id,'"'),e.message)}).finally(()=>{X(!1)})},[ey,eX,eJ,eV,ew,ef,j,eM,eg,z,eA,eZ,eS,eQ,O,k.id]),eY=ey.length<1&&ew.length<1||!!(null==G?void 0:G.message)||"error"===eR,eK=(0,y.useCallback)(()=>{eX?Y():j()},[eX,j,Y]);return(0,l.jsxs)(N.aF,{isOpen:d,onClose:eK,size:"2xl",closeOnOverlayClick:!1,children:[eH,(0,l.jsxs)(L.az,{w:0,h:0,children:[(0,l.jsx)(K._,{src:eU.original}),(0,l.jsx)(K._,{src:eU.cropped})]}),(0,l.jsx)(B.m,{}),(0,l.jsxs)(F.$,{children:[(0,l.jsx)(R.r,{children:(0,l.jsx)(b.x6,{id:"T3FM0r"})}),(0,l.jsx)(P.s,{}),(0,l.jsx)(U.c,{mb:4}),(0,l.jsx)(W.c,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsxs)(T.B,{direction:"column",w:"100%",px:4,spacing:10,children:[(0,l.jsxs)(n.s,{direction:"row",justifyContent:"space-between",w:"100%",gap:4,children:[(0,l.jsxs)(T.B,{direction:"column",alignItems:"center",px:10,justifyContent:"center",children:[(0,l.jsxs)(c.W,{placement:"bottom-start",offset:[100,0],children:[(0,l.jsx)(C.Tz,{label:(0,l.jsx)(b.x6,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,l.jsx)(t.I,{position:"relative",disabled:"uploading"===eR,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,l.jsxs)(x.e,{src:eF||"",name:"".concat(ey," ").concat(ew).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===eR&&(0,l.jsx)(L.jl,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,l.jsx)(o.y,{size:"xl",thickness:"2px"})}),(0,l.jsx)(L.jl,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,l.jsx)(f.g,{icon:eM?m.rwq:m.MT7,width:16,height:16,size:"xs"})})]})})}),(0,l.jsxs)(u.c,{fontSize:"sm",children:[(0,l.jsx)(h.D,{onClick:()=>{"uploading"!==eR&&eL()},children:(0,l.jsxs)(I.z,{children:[(0,l.jsx)(f.g,{icon:v.MNJ}),(0,l.jsx)(D.E,{children:(0,l.jsx)(b.x6,{id:"wPTug2"})})]})}),eM&&(0,l.jsx)(g.N,{}),eM&&(0,l.jsx)(h.D,{onClick:()=>{eT(null),e_(eh)},children:(0,l.jsxs)(I.z,{color:"var(--chakra-colors-red-500)",children:[(0,l.jsx)(f.g,{icon:m.sjs,color:"var(--chakra-colors-red-500)"}),(0,l.jsx)(D.E,{children:(0,l.jsx)(b.x6,{id:"k8od7T"})})]})})]})]}),(0,l.jsx)(ee.S,{in:!!eM&&!!eU.cropped&&eM!==k.profileImageUrl&&"idle"===eR,animateOpacity:!0,children:(0,l.jsx)(H.S,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===eN,onChange:e=>{eB(e.target.checked?"cropped":"original"),eT(e.target.checked?eU.cropped:eU.original)},mb:3,children:(0,l.jsx)(b.x6,{id:"+J8/VC"})})}),(0,l.jsx)(es.Wt,{children:"error"===eR&&(0,l.jsx)(b.x6,{id:"CCcfKO"})}),(0,l.jsxs)(T.B,{spacing:0,alignItems:"center",children:[(0,l.jsx)(D.E,{fontSize:"lg",fontWeight:"bold",children:k.displayName}),(0,l.jsx)(D.E,{color:"gray.500",fontSize:"sm",children:k.email})]})]}),(0,l.jsxs)(T.B,{direction:"column",flex:1,w:"100%",spacing:4,children:[(0,l.jsxs)(ei.MJ,{isInvalid:eY,children:[(0,l.jsx)(el.l,{children:(0,l.jsx)(b.x6,{id:"V1EGGU"})}),(0,l.jsx)(en.p,{w:"100%",value:ey,onChange:e=>ek(e.target.value.slice(0,60))})]}),(0,l.jsxs)(ei.MJ,{isInvalid:eY,children:[(0,l.jsx)(el.l,{children:(0,l.jsx)(b.x6,{id:"1ZaQUH"})}),(0,l.jsx)(en.p,{w:"100%",value:ew,onChange:e=>ez(e.target.value.slice(0,60))}),(0,l.jsx)(es.Wt,{children:(null==G?void 0:G.message)?null==G?void 0:G.message:(0,l.jsx)(b.x6,{id:"yQeiGC"})})]}),(0,l.jsxs)(ei.MJ,{children:[(0,l.jsx)(el.l,{children:(0,l.jsxs)(T.B,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)(f.g,{icon:m.Bwz}),(0,l.jsx)(b.x6,{id:"vXIe7J"})]})}),(0,l.jsx)(ea.m,{selectedLocale:A.zd[ef],onLocaleSelect:eC})]})]})]}),(0,l.jsxs)(T.B,{spacing:4,children:[(0,l.jsxs)(T.B,{children:[(0,l.jsx)(eo.D,{as:"h2",size:"md",children:(0,l.jsx)(b.x6,{id:"ZbXNIW"})}),(0,l.jsx)(D.E,{size:"sm",color:"gray.500",children:(0,l.jsx)(b.x6,{id:"2ZAirE"})})]}),(0,l.jsx)(D.E,{children:(0,l.jsx)(b.x6,{id:"iJoBlx"})}),(0,l.jsxs)(ei.MJ,{as:n.s,gap:2,alignItems:"center",children:[(0,l.jsx)(er.d,{size:"md",isChecked:eI,onChange:e=>eO(!e.target.checked)}),(0,l.jsx)(el.l,{m:0,cursor:"pointer",children:(0,l.jsx)(b.x6,{id:"gukxZ5"})})]}),(0,l.jsxs)(ei.MJ,{as:n.s,gap:2,alignItems:"center",children:[(0,l.jsx)(er.d,{size:"md",isChecked:eD,onChange:e=>eE(!e.target.checked)}),(0,l.jsx)(el.l,{m:0,cursor:"pointer",children:(0,l.jsx)(b.x6,{id:"8Q6T6o"})})]})]})]})}),(0,l.jsx)($.j,{children:(0,l.jsxs)(n.s,{justifyContent:"space-between",flex:1,alignItems:"flex-end",p:2,children:[(0,l.jsx)(n.s,{children:(0,l.jsx)(J.$,{variant:"plain",onClick:e$,children:(0,l.jsx)(b.x6,{id:"ktknoE"})})}),(0,l.jsxs)(n.s,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[eX&&(0,l.jsx)(J.$,{variant:"ghost",colorScheme:"gray",onClick:eG,children:(0,l.jsx)(b.x6,{id:"dEgA5A"})}),(0,l.jsx)(J.$,{variant:"solid",onClick:eq,isDisabled:eY||"uploading"===eR,isLoading:M||V,children:eX?(0,l.jsx)(b.x6,{id:"y3aU20"}):(0,l.jsx)(b.x6,{id:"DPfwMq"})})]})]})})]}),(0,l.jsx)(eu,{isOpen:q,onClose:ep,onConfirm:eq,onDiscard:()=>{ep(),j()},originalLocaleConfirmStrings:ef!==ev?eb:null})]})};var eg=i(78354);let em=(0,y.memo)(e=>{var s;let{showRing:i}=e,{isInOfflineMode:n}=(0,w.u)(),{user:o,anonymousUser:r,isUserLoading:a,color:y,currentWorkspace:O}=(0,S.ur)(),{isOpen:I,onOpen:D,onClose:M}=(0,d.j)({id:"locale-modal-profile-menu"}),T=(0,E.O)(),U=(0,eg.h5)(["xs","sm"]),_={...r,organizations:[]},{displayName:N,profileImageUrl:B}=o||_,{isConnected:F}=(0,w.u)(),{isOpen:R,onOpen:P,onClose:W}=(0,d.j)({id:"user-settings-modal"}),{isOpen:L,onOpen:H,onClose:$}=(0,d.j)({id:"account-delete-modal"});return(0,l.jsxs)(c.W,{children:[(0,l.jsx)(C.Tz,{label:F?o?(0,l.jsx)(b.x6,{id:"hBHHtH"}):N:(0,l.jsx)(b.x6,{id:"ysdDIA"}),children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t.I,{tabIndex:0,_focus:{shadow:"outline"},as:x.e,bg:y.value,color:y.isDark?"white":"black",border:i?"solid 2px ".concat(y.value):"solid 2px var(--chakra-colors-gray-100)",shadow:i?"base":void 0,outline:"none",name:a?void 0:N,src:B,size:U,alignItems:"center",className:"profile-menu-avatar",flexDirection:"column",cursor:"pointer",transition:"box-shadow 150ms ease-out",_hover:{shadow:"0 0 0 3px #CBD5E0"},onDragStart:e=>e.preventDefault(),sx:{span:{display:"none"}}})})}),(0,l.jsx)(j.Z,{children:(0,l.jsx)(u.c,{zIndex:"popover",children:o?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(p.r,{title:o.email||N,children:[(0,l.jsx)(g.N,{}),(0,l.jsx)(h.D,{color:"gray.700",icon:(0,l.jsx)(f.g,{icon:v.BH7,fixedWidth:!0}),onClick:P,isDisabled:n,children:(0,l.jsx)(b.x6,{id:"LpPf/O"})}),(0,l.jsx)(h.D,{icon:(0,l.jsx)(f.g,{fixedWidth:!0,icon:m.Bwz}),onClick:D,children:(null===(s=A.zd[T])||void 0===s?void 0:s.displayName)||"Unknown"}),(0,l.jsx)(h.D,{color:"red.500",icon:(0,l.jsx)(f.g,{icon:m.GxD,fixedWidth:!0}),onClick:()=>{window.location.href="".concat(k.$.API_HOST,"/logout")},isDisabled:n,children:(0,l.jsx)(b.x6,{id:"fcWrnU"})})]})}):(0,l.jsx)(h.D,{icon:(0,l.jsx)(f.g,{icon:m.rhE,fixedWidth:!0}),onClick:()=>{window.location.href="/signin"},isDisabled:n,children:(0,l.jsx)(b.x6,{id:"n1ekoW"})})})}),R&&o&&(0,l.jsx)(ep,{orgId:(null==O?void 0:O.id)||"",user:o,isOpen:R,onClose:W,onAccountDeleteModalOpen:H}),L&&o&&(0,l.jsx)(Y,{user:o,isOpen:L,onClose:$}),I&&(0,l.jsx)(z.l,{onClose:M})]})});em.displayName="ProfileMenu"}}]);
//# sourceMappingURL=7723-b2680cd0835dbc4d.js.map