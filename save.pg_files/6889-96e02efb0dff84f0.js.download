"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6889],{83603:(e,t,A)=>{A.d(t,{$v:()=>a,Bb:()=>r,K$:()=>i,hY:()=>o,tF:()=>l,tq:()=>n});class r extends Error{constructor(e,t={}){super(e),this.opts=t}}r.prototype.name="DesignPartnerError";class a extends r{constructor(e,t={}){super(e,t)}}a.prototype.name="CouldNotApplySuggestionError";class l extends r{constructor(e,t={}){super(e,t)}}l.prototype.name="InvalidResponseError";class o extends r{constructor(e,t={}){super(e,t)}}o.prototype.name="NoopSuggestionError";class n extends r{constructor(e,t={}){super("InputTooLongError: ".concat(e),t)}}n.prototype.name="InputTooLongError";class i extends r{constructor(e,t={}){super("ParsedSuggestionError: ".concat(e),t)}}o.prototype.name="ParsedSuggestionError"},25465:(e,t,A)=>{A.d(t,{V1:()=>u,wo:()=>c});var r=A(83603),a=A(50877),l=A(88808),o=A(55640),n=A(30358);let i=e=>!(0,l.vI)(e).some(e=>["BAD_USER_INPUT"].includes(e)),s=async e=>{let{fn:t,retries:A,backoff:r=1e3,timeout:a}=e;try{return await Promise.race([t(),new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout (".concat(a,"ms)"))),a)})])}catch(n){var l;let e=null===(l=n.message)||void 0===l?void 0:l.startsWith("Request timeout");e&&console.debug("[AI] Request timeout. Not retrying");let o=i(n)&&!e;if(A>0&&o)return await new Promise(e=>setTimeout(e,r)),s({fn:t,retries:A-1,backoff:2*r,timeout:a});throw n}},c=async e=>{var t;let A=await d({messages:e.messages,maxTokens:null!==(t=e.params.maxTokens)&&void 0!==t?t:null,models:["gpt-3.5-turbo","gpt-3.5-turbo-16k"]});return{...e,params:{...e.params,model:A}}},d=async e=>{var t;let{messages:A,maxTokens:l,models:n}=e,{data:i}=await (0,a.H4n)().query({query:o.l3I,returnPartialData:!1,variables:{input:{messages:A,maxTokens:l,models:n}}}),s=null==i?void 0:i.canRunChatCompletion;if(!s||0===s.length)throw Error("No response received");let c=null===(t=s.find(e=>!!e.canRun))||void 0===t?void 0:t.model;if(!c)throw new r.tq("Input too long for models: "+JSON.stringify(n));return c},u=async function(e){var t,A;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:6e4,retries:0};return console.debug("[AI][fetchChatCompletion]",e.messages,e.params),s({fn:()=>(0,a.H4n)().mutate({mutation:o.aA3,variables:{input:{...e,workspaceId:(0,n.gx)()}}}).then(e=>{let{data:t}=e,A=null==t?void 0:t.chatCompletion;if(!A||0===A.length)throw Error("No response received");return console.debug("[AI] Got chat completion",A),t}),timeout:null!==(t=r.timeout)&&void 0!==t?t:6e4,retries:null!==(A=r.retries)&&void 0!==A?A:0})}},81768:(e,t,A)=>{A.d(t,{F:()=>l});var r=A(50877),a=A(53547);class l extends a.U{getSystemChatMessage(e){return{role:r.VDI.System,operation:this.systemPromptOperation,variables:e}}getUserChatMessage(e){return{role:r.VDI.User,operation:this.userPromptOperation,variables:e}}constructor({variables:e,systemPromptOperation:t,userPromptOperation:A,params:r}){super({params:r}),this.variables=e,this.systemPromptOperation=t,this.userPromptOperation=A}}},53547:(e,t,A)=>{A.d(t,{U:()=>a});let r={model:"gpt-3.5-turbo-1106",provider:A(50877).eON.Azure};class a{prepare(e){let{variables:t,history:A=[],params:r}=e;return{messages:[this.getSystemChatMessage(t),...A,this.getUserChatMessage(t)],params:{...this.params,...r}}}constructor({params:e}){this.params={...r,...e}}}},57450:(e,t,A)=>{A.d(t,{U:()=>l});var r=A(32899),a=A(25465);let l=async function(e,t){var A,l;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.of.get("aiRequestRetries").chat;o.retries=null!==(l=o.retries)&&void 0!==l?l:n;let i=await (0,a.V1)({...e,interactionId:t},o);return null==i?void 0:null===(A=i.chatCompletion)||void 0===A?void 0:A[0].content}},63587:(e,t,A)=>{A.d(t,{K:()=>o});var r=A(13236),a=A(69e3),l=A(57215);let o=(e,t)=>{let A=n(e),r=a.FK.from(t),o=A.serializeFragment(r),i=(0,l.H)(o),s=document.createElement("div");return s.appendChild(i),s.innerHTML},n=e=>{let{schema:t,extensionManager:A}=e;if(t.cached.aiDomSerializer)return t.cached.aiDomSerializer;let l=a.ZF.marksFromSchema(t),o=a.ZF.nodesFromSchema(t),n=e.extensionManager.attributes;A.extensions.forEach(e=>{if(!e.config.renderHTMLforAI)return;let t=n.filter(t=>t.type===e.name);o[e.name]&&(o[e.name]=A=>{let a=(0,r.zU)(A,t);return e.config.renderHTMLforAI.bind(e)({node:A,HTMLAttributes:a})}),l[e.name]&&(l[e.name]=(A,a)=>{let l=(0,r.zU)(A,t);return e.config.renderHTMLforAI.bind(e)({mark:A,inline:a,HTMLAttributes:l})})});let i=new a.ZF(o,l);return t.cached.aiDomSerializer=i,i}},13798:(e,t,A)=>{A.d(t,{w:()=>u});var r=A(39448),a=A(33829);async function l(e,t){let A;let r=e.getReader();for(;!(A=await r.read()).done;)t(A.value)}function o(){return{data:"",event:"",id:"",retry:void 0}}let n="text/event-stream",i="last-event-id";function s(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(n)))throw Error("Expected content-type to be ".concat(n,", Actual: ").concat(t))}class c extends r.Rv{constructor(){super({transform:async(e,t)=>{if("error"===e.event){t.error(new a.lm("StreamError message received: ".concat(JSON.stringify(e)),e.data));return}t.enqueue(e)}})}}class d extends Error{constructor(e){super(),this.timeout=e}}function u(e,t,A){var u;let g=A.retries||0,h=A.backoff||1e3,p=A.timeout||null,m=null!==(u=A.streamResumingEnabled)&&void 0!==u&&u,x=0,v=new AbortController,f=!1,C=!1,E=!1,b=null,y=!1,I=()=>h*Math.pow(2,Math.max(x-1,0)),Q={};return m&&(Q["gamma-stream-resuming-enabled"]="true"),{stream:new r.ZY({async start(A){null!=p&&(b=setTimeout(()=>{y=!0,v.abort(),A.error(new a.wM("Stream timed out after ".concat(p,"ms")))},p));let{headers:r,...c}=t;(function(e,t){let{signal:A,headers:r,onopen:a,onmessage:c,onclose:d,onerror:u,openWhenHidden:g,fetch:h,...p}=t;return new Promise((t,m)=>{let x;let v={...r};function f(){x.abort(),document.hidden||Q()}v.accept||(v.accept=n),g||document.addEventListener("visibilitychange",f);let C=1e3,E=0;function b(){document.removeEventListener("visibilitychange",f),window.clearTimeout(E),x.abort()}null==A||A.addEventListener("abort",()=>{b(),t()});let y=null!=h?h:window.fetch,I=null!=a?a:s;async function Q(){var A,r;x=new AbortController;try{let r,a,n,s;let u=await y(e,{...p,headers:v,signal:x.signal});await I(u),await l(u.body,(A=function(e,t,A){let r=o(),a=new TextDecoder,l=!1;return function(n,i){if(0===n.length)null==A||A(r),r=o(),l=!1;else if(i>0){let A=a.decode(n.subarray(0,i)),o=i+(32===n[i+1]?2:1),s=a.decode(n.subarray(o));switch(A){case"data":l?r.data=r.data+"\n"+s:(r.data=s,l=!0);break;case"event":r.event=s;break;case"id":e(r.id=s);break;case"retry":let c=parseInt(s,10);isNaN(c)||t(r.retry=c)}}}}(e=>{e?v[i]=e:delete v[i]},e=>{C=e},c),s=!1,function(e){void 0===r?(r=e,a=0,n=-1):r=function(e,t){let A=new Uint8Array(e.length+t.length);return A.set(e),A.set(t,e.length),A}(r,e);let t=r.length,l=0;for(;a<t;){s&&(10===r[a]&&(l=++a),s=!1);let e=-1;for(;a<t&&-1===e;++a)switch(r[a]){case 58:-1===n&&(n=a-l);break;case 13:s=!0;case 10:e=a}if(-1===e)break;A(r.subarray(l,e),n),l=a,n=-1}l===t?r=void 0:0!==l&&(r=r.subarray(l),a-=l)})),null==d||d(),b(),t()}catch(e){if(!x.signal.aborted)try{let t=null!==(r=null==u?void 0:u(e))&&void 0!==r?r:C;window.clearTimeout(E),E=window.setTimeout(Q,t)}catch(e){b(),m(e)}}}Q()})})(e,{openWhenHidden:!0,credentials:"include",...c,headers:{...r,...Q},signal:v.signal,onopen:async e=>{if(!e.ok||e.headers.get("content-type")!==n){if(e.status>=400&&e.status<500&&429!==e.status)v.abort(),A.error(new a.qh("Unable to complete request"));else if(x++<g&&!f)throw new d(I());else v.abort(),A.error(new a.qh("Unable to complete request"))}},onmessage(e){if(E){C||(C=!0,console.log("[AIStream] enqueue cancel event",{...e,event:"cancel",data:""}),A.enqueue({...e,event:"cancel",data:""}),A.close(),v.abort());return}y||(A.enqueue(e),f=!0)},onclose(){b&&(clearTimeout(b),b=null),A.close()},onerror(e){if(e instanceof d){if(E)throw console.error("Stream cancelled - not retrying"),Error("Stream cancelled");return e.timeout}if(e instanceof Error){if(console.error("Uncaught stream error",e),!m)throw e;if(x++<g)return I();throw e}if(f){let e="Stream closed unexpectedly";throw console.error("Uncaught stream error",e),new a.u4(e)}}}).catch(e=>{b&&(clearTimeout(b),b=null),E||A.error(e)})}}).pipeThrough(new c),cancel:()=>{E||(E=!0)}}}},33829:(e,t,A)=>{A.d(t,{lm:()=>r,qh:()=>l,u4:()=>o,wM:()=>a});class r extends Error{constructor(e,t){super(e),this.name="StreamError",this.code="stream_error",t&&(this.code=t)}}class a extends r{constructor(e){super(e),this.name="StreamTimeoutError",this.code="timeout"}}class l extends r{constructor(e){super(e),this.name="StreamOnOpenError",this.code="on_open"}}class o extends r{constructor(e){super(e),this.name="StreamUnexpectedCloseError",this.code="unexpected_close"}}},65449:(e,t,A)=>{A.d(t,{K8:()=>u,i4:()=>d,pt:()=>c});var r=A(14041),a=A(53536),l=A(19033),o=A(87064),n=A(39448);class i extends n.Rv{getContent(){return this.content}constructor(e){super({start:()=>{var t;null===(t=e.onStart)||void 0===t||t.call(e)},transform:async(t,A)=>{var r,a,l;"content"===t.event&&(this.content+=t.data,null===(r=e.onContent)||void 0===r||r.call(e,this.content)),"done"===t.event&&(null===(a=e.onComplete)||void 0===a||a.call(e,this.content)),"cancel"===t.event&&(null===(l=e.onCancel)||void 0===l||l.call(e)),A.enqueue(t)},flush(){var t;null===(t=e.onFlush)||void 0===t||t.call(e)}}),this.content=""}}var s=A(57882);let c=(e,t)=>({generate:(0,r.useCallback)(A=>d({...A,promptKey:e,opts:t}),[t,e])}),d=e=>{let{promptKey:t,opts:A,variables:r,interactionId:n,workspaceId:s}=e;n=n||(0,o.$F)();let{cancel:c,stream:d}=(0,a.aO)({promptKey:t,variables:r,interactionId:n,workspaceId:s},{timeout:A.timeout}),u=new i(A),g=d.pipeThrough(u);return{cancel:c,promise:new Promise((e,t)=>{(0,l.x_)(g,{onError(e){var r;null===(r=A.onError)||void 0===r||r.call(A,e),t(e)},onDone(){e(u.getContent())}})})}},u=e=>{let{promptKey:t,variables:A,interactionId:r,workspaceId:l=(0,s.gx)(),opts:n={}}=e;return r=r||(0,o.$F)(),(0,a.fY)({promptKey:t,interactionId:r,workspaceId:l,variables:A},n)}},53536:(e,t,A)=>{A.d(t,{LZ:()=>i,aO:()=>o,fY:()=>n,yf:()=>s});var r=A(73893),a=A(33829),l=A(13798);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=r.$.API_HOST+"/ai/v2/generation",a={"Content-Type":"application/json"};t.streamId&&(a["gamma-chat-completion-stream-id"]=t.streamId);let o={method:"POST",headers:a,body:JSON.stringify(e)};return(0,l.w)(A,o,t)}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=r.$.API_HOST+"/ai/v2/render-generation",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return(await d(A,a,t)).result}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=r.$.API_HOST+"/ai/chatCompletion",a={"Content-Type":"application/json"};t.streamId&&(a["gamma-chat-completion-stream-id"]=t.streamId);let o={method:"POST",headers:a,body:JSON.stringify(e)};return(0,l.w)(A,o,t)},s=e=>{let{streamId:t,lastEventId:A,interactionId:a,...o}=e,n=new URL(r.$.API_HOST+"/ai/resumeChatCompletion");return n.searchParams.set("interactionId",a),(0,l.w)(n.toString(),{method:"GET",headers:{"gamma-chat-completion-stream-id":t,"last-event-id":A}},{streamResumingEnabled:!0,...o})},c=e=>new Promise(t=>setTimeout(t,e)),d=async(e,t,A)=>{let{timeout:r=null,maxRetries:l=3,retryAttempts:o=0}=A,n=new AbortController,i=null;null!=r&&(i=setTimeout(()=>{throw n.abort(),Error("Request timed out after ".concat(r,"ms"))},r));let s=()=>{i&&clearTimeout(i)},u=await fetch(e,{credentials:"include",...t,signal:n.signal});if(u.ok){let e=await u.json();return s(),e}if(s(),u.status>=400&&u.status<500&&429!==u.status)throw new a.qh("Unable to complete request");if(o++<l){let A=1e3*Math.pow(2,Math.max(o-1,0));return await c(A),d(e,t,{timeout:r,retryAttempts:o,maxRetries:l})}throw Error("Unable to complete request, status="+u.status)}},19033:(e,t,A)=>{A.d(t,{Zd:()=>n,_D:()=>o,x_:()=>l});var r=A(99742),a=A(33829);let l=(e,t)=>{let A=e.getReader(),r=async()=>{var e,a,l;try{let{done:l,value:o}=await A.read();if(l)null===(a=t.onDone)||void 0===a||a.call(t);else{null===(e=t.onMessage)||void 0===e||e.call(t,o),r();return}}catch(e){null===(l=t.onError)||void 0===l||l.call(t,e instanceof Error?e:Error(e))}};r()},o=e=>e instanceof a.lm?{errorCode:e.code,errorMessage:e.message}:e instanceof Error?{errorMessage:e.message}:{errorMessage:e},n=(0,r.d_)("0123456789abcdefghijklmnopqrstuvwxyz",16)},87064:(e,t,A)=>{A.d(t,{$F:()=>n.$,D8:()=>y,EQ:()=>x,Hy:()=>c,UL:()=>s,WN:()=>E,WR:()=>I,XD:()=>C,Yh:()=>u,hj:()=>g,pS:()=>b,qD:()=>v,rl:()=>i,tB:()=>h,xN:()=>m,xW:()=>d,zA:()=>p,zE:()=>f});var r=A(73893),a=A(78821),l=A(10458),o=A(57882),n=A(89654);let i=e=>{l.zS.track(l.VV.AI_REQUEST_SENT,{...e,gitSHA:r.$.GIT_SHA})},s=e=>{l.zS.track(l.VV.AI_REQUEST_COMPLETE,{...e,gitSHA:r.$.GIT_SHA})},c=e=>{l.zS.track(l.VV.AI_REQUEST_ABORT,{...e,gitSHA:r.$.GIT_SHA})},d=e=>{l.zS.track(l.VV.AI_REQUEST_STREAM_START,{...e,gitSHA:r.$.GIT_SHA})},u=e=>{l.zS.track(l.VV.AI_REQUEST_RESPONSE,{...e,gitSHA:r.$.GIT_SHA})},g=e=>{l.zS.track(l.VV.AI_SUGGESTION_APPLY,{...e,gitSHA:r.$.GIT_SHA})},h=e=>{l.zS.track(l.VV.AI_REQUEST_ERROR,{...e,gitSHA:r.$.GIT_SHA})},p=e=>{l.zS.track(l.VV.AI_REQUEST_RETRY,{...e,gitSHA:r.$.GIT_SHA})},m=e=>{l.zS.track(l.VV.AI_DOC_RATED,{...e,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},x=e=>{let t=e.tags.reduce((e,t)=>(e[t]=!0,e),{});l.zS.track(l.VV.AI_DOC_FEEDBACK_SUBMITTED,{...e,tags_map:t,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},v=e=>{l.zS.track(l.VV.AI_IMPORT_SLIDE_RATED,{...e,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},f=e=>{l.zS.track(l.VV.AI_IMPORT_SLIDE_FEEDBACK,{...e,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},C=e=>{l.zS.track(l.VV.AI_IMAGE_FEEDBACK_SUBMITTED,{...e,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},E=e=>{l.zS.track(l.VV.AI_IMAGE_RATED,{...e,gitSHA:r.$.GIT_SHA,product:(0,a.A4)((0,o.vp)())})},b=e=>{l.zS.track(l.VV.AI_CARD_FEEDBACK,{...e,gitSHA:r.$.GIT_SHA})},y=e=>{l.zS.track(l.VV.AI_CARD_RATING,{...e,gitSHA:r.$.GIT_SHA})},I=e=>{l.zS.track(l.VV.PROMPT_VERSION_PICKER,{...e,gitSHA:r.$.GIT_SHA})}},55864:(e,t,A)=>{A.d(t,{V:()=>l});var r=A(81768),a=A(55640);let l=new r.F({systemPromptOperation:a.mc.GenerateImagePromptSystem,userPromptOperation:a.mc.GenerateImagePromptUser,variables:["input","html"],params:{temperature:.7,maxTokens:50}})},5472:(e,t,A)=>{A.d(t,{m:()=>a});let r={src:"/_next/static/media/flux-1-schnell.a4d70ddb.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAmCU3/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBBIDESEiMv/aAAgBAQABPwBbBuaSzU5KW15D/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQIAESFRsf/aAAgBAgEBPwAOxvOuT//EABkRAAIDAQAAAAAAAAAAAAAAAAECABEikf/aAAgBAwEBPwAogrC8n//Z",blurWidth:8,blurHeight:6},a={None:{"dall-e-3":{src:"/_next/static/media/dall-e-3.e0424b3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAAAP/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/9oADAMBAAIQAxAAAAAJKP/EABsQAAMAAgMAAAAAAAAAAAAAAAEDEgIEABEh/9oACAEBAAE/ANDdXIyYnFkmjYHonvn/xAAaEQACAgMAAAAAAAAAAAAAAAACAwABBDOR/9oACAECAQE/AMh7qPYXZ//EABoRAAEFAQAAAAAAAAAAAAAAAAIABBIxMlH/2gAIAQMBAT8AbgEMDfF//9k=",blurWidth:8,blurHeight:6},"flux-1-pro":{src:"/_next/static/media/flux-1-pro.fcce6522.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgiQ3/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASUSH/2gAIAQEAAT8AVFiTaR2Y3RND3XnM/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQIBAT8AtyWn/8QAGREAAQUAAAAAAAAAAAAAAAAAAQADEiJR/9oACAEDAQE/AHKERxf/2Q==",blurWidth:8,blurHeight:6},"flux-1-schnell":r,"flux-1-ultra":{src:"/_next/static/media/flux-1-ultra.3fdf59fa.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBf/aAAwDAQACEAMQAAAAkEN//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAEgIDE//aAAgBAQABPwDLeOdUbBluf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPwA0v//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwCs/9k=",blurWidth:8,blurHeight:6},"flux-1-quick":{src:"/_next/static/media/flux-1-quick.01258a07.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmhCn/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQFERJh/9oACAEBAAE/AIsNZxRPp3ZJByelGx6K/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwRC/9oACAECAQE/AG2Jjsr/xAAYEQACAwAAAAAAAAAAAAAAAAAAAhETMf/aAAgBAwEBPwCpJw//2Q==",blurWidth:8,blurHeight:6},"ideogram-v2":{src:"/_next/static/media/ideogram-v2.12157ecc.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACeEP/EABsQAQAABwAAAAAAAAAAAAAAAAIAAwQGEhMi/9oACAEBAAE/ABdVfreUxLmP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAgEBPwCvT//EABgRAAIDAAAAAAAAAAAAAAAAAAABIVGR/9oACAEDAQE/AIpYf//Z",blurWidth:8,blurHeight:6},"ideogram-v2-turbo":{src:"/_next/static/media/ideogram-v2-turbo.e565fd0e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAAiQv/xAAcEAABAwUAAAAAAAAAAAAAAAACAAESAwQFIWH/2gAIAQEAAT8AfMTCBW1Nujpf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAMBAlL/2gAIAQIBAT8AlrN2P//EABsRAAEEAwAAAAAAAAAAAAAAAAMAAQIhIjFR/9oACAEDAQE/AGEO8I74v//Z",blurWidth:8,blurHeight:6},"imagen-3-flash":{src:"/_next/static/media/imagen-3-flash.3b553c3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACbBf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAABQABERICExT/2gAIAQEAAT8AYoK49TCcZrM2X//EABkRAAIDAQAAAAAAAAAAAAAAAAEDACEiMf/aAAgBAgEBPwAPdez2f//EABgRAAIDAAAAAAAAAAAAAAAAAAADAQJS/9oACAEDAQE/AKoViD//2Q==",blurWidth:8,blurHeight:6},"imagen-3-pro":{src:"/_next/static/media/imagen-3-pro.4a7e6241.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACaAP8A/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAwQFExRC/9oACAEBAAE/AKa5pq4klks47CmP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMABDL/2gAIAQIBAT8AZYcDsz//xAAZEQACAwEAAAAAAAAAAAAAAAABAwACIRL/2gAIAQMBAT8AqpengbP/2Q==",blurWidth:8,blurHeight:6},"leonardo-phoenix":{src:"/_next/static/media/leonardo-phoenix.5a9b148e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQBL//xAAdEAACAQQDAAAAAAAAAAAAAAABAgQAEiEiAxRR/9oACAEBAAE/AElR+u6rHXTlW4WjYtgHHlf/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIxcv/aAAgBAgEBPwB1HJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABAAMScv/aAAgBAwEBPwAXdnbP/9k=",blurWidth:8,blurHeight:6},"luma-photon-1":{src:"/_next/static/media/luma-photon-1.1649ca4f.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAAoRNt/wD/xAAaEAABBQEAAAAAAAAAAAAAAAACAAQGITFR/9oACAEBAAE/ACkbztDeav/EABoRAAEFAQAAAAAAAAAAAAAAAAMAAQIhI5H/2gAIAQIBAT8Acxa0l1f/xAAaEQACAgMAAAAAAAAAAAAAAAACAwARATFR/9oACAEDAQE/ABSnN2sN8n//2Q==",blurWidth:8,blurHeight:6},"luma-photon-flash-1":{src:"/_next/static/media/luma-photon-flash-1.d9455e5d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAACSAlv/xAAZEAEAAgMAAAAAAAAAAAAAAAACACEEExb/2gAIAQEAAT8A6jPa1puzVz//xAAaEQACAgMAAAAAAAAAAAAAAAABAgADMUFR/9oACAECAQE/AHrQHeOmf//EABgRAQADAQAAAAAAAAAAAAAAAAEAAlGR/9oACAEDAQE/ACzhwn//2Q==",blurWidth:8,blurHeight:6},"playground-2.5":{src:"/_next/static/media/playground-2.5.19b22551.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACEGf/EAB0QAAEDBQEAAAAAAAAAAAAAAAIBAwUABBQhQlH/2gAIAQEAAT8AupUJVhchjbYKRH0Q+V//xAAZEQABBQAAAAAAAAAAAAAAAAADAAECEiH/2gAIAQIBAT8AgYmtZf/EABoRAAICAwAAAAAAAAAAAAAAAAMhAAERInH/2gAIAQMBAT8AsQ1rjin/2Q==",blurWidth:8,blurHeight:6},"playground-3":{src:"/_next/static/media/playground-3.0cdef738.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAACBf/aAAwDAQACEAMQAAAAoJ4//8QAGxAAAgEFAAAAAAAAAAAAAAAAAQMEAAIFEXP/2gAIAQEAAT8AVOZGxQfYpOuYr//EABoRAQACAwEAAAAAAAAAAAAAAAEDIQACEiL/2gAIAQIBAT8Ai9snS1uhef/EABgRAAMBAQAAAAAAAAAAAAAAAAECAwAS/9oACAEDAQE/AIQjQOzTBPbb/9k=",blurWidth:8,blurHeight:6},"recraft-v3":{src:"/_next/static/media/recraft-v3.2bd50396.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAAAkJH/xAAbEAACAQUAAAAAAAAAAAAAAAACAwABBQYRE//aAAgBAQABPwBmXXhVFn12JT//xAAZEQADAAMAAAAAAAAAAAAAAAABAiEAMUH/2gAIAQIBAT8ASrSdnuf/xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQMBAT8AdIt//9k=",blurWidth:8,blurHeight:6},"recraft-v3-svg":{src:"/_next/static/media/recraft-v3-svg.98cb7b01.svg",height:1024,width:1820,blurWidth:0,blurHeight:0},"stable-diffusion-xl-v1-0":r}}},86821:(e,t,A)=>{A.d(t,{M:()=>s});var r=A(31085),a=A(62313),l=A(9021),o=A(80532),n=A(20501),i=A(24221);let s=e=>{let{promptPageInfo:t,nextPrompt:A,prevPrompt:s,isDisabled:c,...d}=e;return(0,r.jsxs)(a.z,{spacing:1,...d,children:[(0,r.jsx)(l.K,{variant:"ghost",icon:(0,r.jsx)(i.g,{icon:n.Wzs}),isDisabled:c||!t.canGoPrev,onClick:()=>s(),"aria-label":"left",color:"gray.800",size:"xs"}),(0,r.jsxs)(o.az,{as:"span",color:"gray.800",fontSize:"sm",children:[t.curr," / ",t.total]}),(0,r.jsx)(l.K,{variant:"ghost",icon:(0,r.jsx)(i.g,{icon:n.XkK}),color:"gray.800",isDisabled:c||!t.canGoNext,onClick:()=>A(),"aria-label":"left",size:"xs"})]})}},63709:(e,t,A)=>{A.d(t,{y:()=>j});var r=A(31085),a=A(55276),l=A(49547),o=A(25420),n=A(19098),i=A(64444),s=A(80853),c=A(62313),d=A(18651),u=A(80532),g=A(93185),h=A(97864),p=A(2600),m=A(2219),x=A(15672),v=A(63633),f=A(61778),C=A(20501),E=A(24221),b=A(14041),y=A(64225),I=A(5933),Q=A(94140),w=A(11509);let j=(0,b.memo)(e=>{var t;let{stylePreset:A,setStylePreset:f,stylePrompt:j,setStylePrompt:P,presetOptions:M,isDisabled:S,contextualTheme:B,getStylePromptFromPreset:R,getThemeNameFromStylePrompt:U,getPresetDisplayMetadata:k,onKeyDown:T}=e,{isOpen:F,onToggle:_,onClose:G}=(0,a.j)(),z=(0,b.useMemo)(()=>Q.xi.find(e=>e.stylePreset===A),[A]),[H,L]=(0,b.useState)(z);(0,b.useEffect)(()=>{L(z)},[z]);let N=(0,y.GV)(I.SJ),K=B||N,Y=null==K?void 0:null===(t=K.config)||void 0===t?void 0:t.stylePrompt,X=(0,b.useCallback)(e=>{P(e.target.value),A!==Q.nv.Custom&&(f(Q.nv.Custom),L(Q.xi.find(e=>e.stylePreset===Q.nv.Custom)))},[P,f,A]),V=(0,b.useCallback)(e=>{let t=k(e);t&&(P(R(e)),f(e),L(t),G())},[k,R,G,f,P]),W=(0,b.useMemo)(()=>{if(A===Q.nv.Theme)return U(j)},[U,A,j]),{scrollContainerRef:O}=(0,w.ms)(A||"",F);return(0,r.jsx)(l.MJ,{children:(0,r.jsxs)(o.s,{direction:"column",gap:2,children:[(0,r.jsxs)(n.A,{placement:"bottom-start",matchWidth:!0,isOpen:F,onClose:G,closeOnBlur:!0,isLazy:!0,children:[(0,r.jsx)(i.W,{children:(0,r.jsx)(s.$,{width:"100%",type:"button",boxShadow:"none",onClick:_,rightIcon:(0,r.jsx)(E.g,{icon:C.Jt$}),isDisabled:S,justifyContent:"space-between",size:"sm",children:(0,r.jsxs)(c.z,{spacing:2,children:[(null==H?void 0:H.icon)?(0,r.jsx)(E.g,{icon:H.icon}):(0,r.jsx)(d._,{width:"24px",height:"24px",src:null==H?void 0:H.imageUrl,borderRadius:"md"}),(0,r.jsx)(u.az,{flex:1,children:"".concat(null==H?void 0:H.name()).concat(W?" (".concat(W,")"):"")})]})})}),(0,r.jsx)(g.h,{width:"auto",maxHeight:"max(350px, 40vh)",overflowY:"auto",ref:O,children:(0,r.jsx)(h.e,{children:(0,r.jsx)(p.T,{spacing:4,children:M.map(e=>(0,r.jsxs)(p.T,{alignItems:"start",width:"100%",spacing:0,children:[(0,r.jsx)(m.D,{size:"sm",mb:2,children:e.title()}),(0,r.jsx)(x.r,{columns:{base:3,"2xl":4},spacing:2,children:e.presets.filter(e=>!("Theme"===e.stylePreset&&!Y)).map(e=>(0,r.jsx)(u.az,{"data-popover-scroll-id":e.stylePreset,children:(0,r.jsx)(D,{preset:e,onClick:()=>V(e.stylePreset),isSelected:e.stylePreset===A},e.stylePreset)},e.stylePreset))})]},e.title()))})})})]}),A!==Q.nv.None&&(0,r.jsx)(v.T,{onKeyDown:T,isDisabled:S,height:"80px",value:j,onChange:X,resize:"none"})]})})});j.displayName="StylePresetMenu";let D=e=>{let{preset:t,onClick:A,isSelected:a}=e;return(0,r.jsxs)(p.T,{_hover:{cursor:a?"default":"pointer",borderColor:a?"trueblue.200":"gray.200",backgroundColor:a?"trueblue.50":"gray.50"},onClick:A,borderRadius:"md",spacing:1,p:2,border:"1px",width:"100%",color:a?"trueblue.500":"gray.900",bgColor:a?"trueblue.50":"transparent",borderColor:a?"trueblue.200":"transparent",children:[t.icon?(0,r.jsx)(u.az,{width:{base:"120px","2xl":"123.5px"},height:"35px",display:"flex",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(u.az,{width:"100%",height:"100%",bgColor:"transparent",rounded:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(E.g,{icon:t.icon})})}):(0,r.jsx)(d._,{src:t.imageUrl,width:"100%",height:"auto",borderRadius:"md"}),(0,r.jsx)(f.E,{color:a?"trueblue.500":"gray.900",fontSize:"sm",children:t.name()})]})}},94140:(e,t,A)=>{A.d(t,{C1:()=>i,xi:()=>n,bz:()=>l,nv:()=>o});var r=A(20501),a=A(12327);let l={Default:()=>a.Ru._({id:"46F406"}),Realistic:()=>a.Ru._({id:"uFPBcL"}),Artistic:()=>a.Ru._({id:"tqhB0N"})},o={None:"None",Anime:"Anime",Digital_Art_Concept_Art:"Digital_Art_Concept_Art",Ethereal_Fantasy_Art:"Ethereal_Fantasy_Art",Photography:"Photography",Analog_film:"Analog_film",Vaporwave:"Vaporwave",Isometric:"Isometric",Low_Poly:"Low_Poly",Claymation:"Claymation",Origami:"Origami",Line_Art:"Line_Art",Pixel_Art:"Pixel_Art",Texture:"Texture",Theme:"Theme",Custom:"Custom"},n=[{stylePreset:o.None,name:()=>a.Ru._({id:"iXzipJ"}),imageUrl:"https://cdn.gamma.app/ai-image-assets/default.jpg",icon:r.Dfk,category:l.Default,stylePrompt:""},{stylePreset:o.Anime,name:()=>a.Ru._({id:"RulMCV"}),imageUrl:"/_next/static/media/anime.c842eccd.jpg",category:l.Artistic,stylePrompt:"anime artwork. anime style, key visual, vibrant, studio anime, highly detailed"},{stylePreset:o.Digital_Art_Concept_Art,name:()=>a.Ru._({id:"PADW9l"}),imageUrl:"/_next/static/media/digital-art.728c3ff0.jpg",category:l.Artistic,stylePrompt:"concept art. digital artwork, illustrative, painterly, matte painting, highly detailed"},{stylePreset:o.Ethereal_Fantasy_Art,name:()=>a.Ru._({id:"C1chBY"}),imageUrl:"/_next/static/media/fantasy.86ede605.jpg",category:l.Artistic,stylePrompt:"ethereal fantasy concept art of. magnificent, celestial, ethereal, painterly, epic, majestic, magical, fantasy art, cover art, dreamy"},{stylePreset:o.Photography,name:()=>a.Ru._({id:"j1ao1Y"}),imageUrl:"/_next/static/media/photography.bce47d9c.jpg",category:l.Realistic,stylePrompt:"cinematic photo. 35mm photograph, film, bokeh, professional, 4k, highly detailed"},{stylePreset:o.Analog_film,name:()=>a.Ru._({id:"bK8OnA"}),imageUrl:"/_next/static/media/analog-film.105509c1.jpg",category:l.Realistic,stylePrompt:"analog film photo. faded film, desaturated, 35mm photo, grainy, vignette, vintage, Kodachrome, Lomography, stained, highly detailed, found footage"},{stylePreset:o.Vaporwave,name:()=>a.Ru._({id:"rPpJGr"}),imageUrl:"/_next/static/media/vaporwave.f8a9afd0.jpg",category:l.Artistic,stylePrompt:"vaporwave synthwave style. cyberpunk, neon, vibes, stunningly beautiful, crisp, detailed, sleek, ultramodern, high contrast, cinematic composition"},{stylePreset:o.Isometric,name:()=>a.Ru._({id:"rHgk/g"}),imageUrl:"/_next/static/media/isometric.86adffe4.jpg",category:l.Artistic,stylePrompt:"isometric style. vibrant, beautiful, crisp, detailed, ultra detailed, intricate"},{stylePreset:o.Low_Poly,name:()=>a.Ru._({id:"X3ZAzR"}),imageUrl:"/_next/static/media/low-poly.e2805ce4.jpg",category:l.Artistic,stylePrompt:"low-poly style. ambient occlusion, low-poly game art, polygon mesh, jagged, blocky, wireframe edges, centered composition"},{stylePreset:o.Claymation,name:()=>a.Ru._({id:"Q61KDs"}),imageUrl:"/_next/static/media/claymation.92bfacf1.jpg",category:l.Artistic,stylePrompt:"claymation style. sculpture, clay art, centered composition, play-doh"},{stylePreset:o.Origami,name:()=>a.Ru._({id:"MHkaLx"}),imageUrl:"/_next/static/media/origami.2586b331.jpg",category:l.Artistic,stylePrompt:"origami style. paper art, pleated paper, folded, origami art, pleats, cut and fold, centered composition"},{stylePreset:o.Line_Art,name:()=>a.Ru._({id:"i6SPYf"}),imageUrl:"/_next/static/media/line-art.bd2852c5.jpg",category:l.Artistic,stylePrompt:"line art drawing. professional, sleek, modern, minimalist, graphic, line art, vector graphics"},{stylePreset:o.Pixel_Art,name:()=>a.Ru._({id:"3a27VZ"}),imageUrl:"/_next/static/media/pixel-art.ca70c7b3.jpg",category:l.Artistic,stylePrompt:"pixel-art. low-res, blocky, pixel art style, 16-bit graphics"},{stylePreset:o.Texture,name:()=>a.Ru._({id:"MCId55"}),imageUrl:"/_next/static/media/texture.6214fde9.jpg",category:l.Artistic,stylePrompt:"texture. top down close-up, video game"},{stylePreset:o.Theme,name:()=>a.Ru._({id:"c8dzFk"}),imageUrl:"",icon:r.fyG,category:l.Default,stylePrompt:""},{stylePreset:o.Custom,name:()=>a.Ru._({id:"zkWoIW"}),imageUrl:"",icon:r.zLW,category:l.Default,stylePrompt:""}],i={square:1,landscape:4/3,portrait:3/4}},11509:(e,t,A)=>{A.d(t,{B7:()=>Q,RM:()=>I,U9:()=>w,Z8:()=>f,ab:()=>y,ms:()=>j});var r=A(81570),a=A(14041),l=A(63587),o=A(65449),n=A(20221);A(55864);var i=A(61722),s=A(64225),c=A(32262),d=A(5933),u=A(95580),g=A(19534),h=A(57882),p=A(86724),m=A(54651);let x=e=>{var t,A;if(!(e instanceof r.nh))return null;if("smartLayoutCell"===e.node.type.name&&(null===(t=e.node.textContent)||void 0===t?void 0:t.length)>=5)return e.node.content;let a=e.$from;for(;a.depth>0;){let e=a.node(a.depth);if("smartLayoutCell"===e.type.name&&(null===(A=e.textContent)||void 0===A?void 0:A.length)>=5)return e.content;a=a.doc.resolve(a.before(a.depth))}return null},v=e=>(0,a.useCallback)(()=>{if(!e)return null;let{selection:t}=e.state,A=(0,u.IV)(t.$from,g.jg)[0],r=A&&(0,c.Ub)(A.node,A.pos),{content:a}=e.state.doc.slice(r.pos+1,r.pos+r.node.nodeSize-1),o=x(t);return o?(0,l.K)(e,o):(0,l.K)(e,a)},[e]),f=e=>{let{editor:t,prompt:A,stylePrompt:r,addPrompt:l}=e,n=(0,s.GV)(d.sK),[i,c]=(0,a.useState)(!1),u=v(t),g=(0,a.useCallback)(()=>{c(!0),l("","push")},[l]),p=(0,a.useCallback)(e=>{l(e,"update")},[l]),m=(0,a.useCallback)(()=>{c(!1)},[]),x=(0,a.useCallback)(e=>{console.error("Error enhancing image",e),c(!1)},[]),{generate:f}=(0,o.pt)("EnhanceAIImage",{onStart:g,onContent:p,onComplete:m,onError:x,timeout:3e4}),C=(0,a.useCallback)(()=>{var e,a;if(i||!(null==n?void 0:n.id))return;let l=null===(e=(0,h.bs)(null==n?void 0:n.id))||void 0===e?void 0:e.id;return f({variables:{currentPrompt:A,stylePrompt:r,cardHtml:(null==t?void 0:t.isSiteNavbarEditor)?void 0:null!==(a=u())&&void 0!==a?a:void 0},workspaceId:l}).promise},[i,null==n?void 0:n.id,f,A,r,null==t?void 0:t.isSiteNavbarEditor,u]);return{isEnhancing:i,setIsEnhancing:c,runEnhanceImagePrompt:C}},C=e=>e.ind===e.history.length-1,E=e=>e.history[e.history.length-1],b={load:(e,t)=>({history:[t],ind:0}),push(e,t){return""===E(e).trim()?this.replace(e,t):{history:[...e.history,t],ind:e.history.length}},replace(e,t){let A=e.history.slice(0,-1);return{history:[...A,t],ind:A.length}},select(e,t){return C(e)&&E(e)===t?e:this.push(e,t)}},y=()=>{let e=(0,a.useRef)(!1),[t,A]=(0,a.useState)({history:[""],ind:0}),r=(0,a.useCallback)((t,r)=>{"load"===r&&A(e=>b.load(e,t)),"push"===r&&A(e=>b.push(e,t)),"update"===r&&(e.current?A(e=>b.push(e,t)):A(e=>b.replace(e,t))),"select"===r&&A(e=>b.select(e,t)),e.current="update"!==r},[]),l=(0,a.useCallback)(()=>{let{ind:e}=t;e<=0||A(e=>({...e,ind:e.ind-1}))},[t]),o=(0,a.useCallback)(()=>{let{history:e,ind:r}=t;r>=e.length-1||A(e=>({...e,ind:e.ind+1}))},[t]),{ind:n,history:i}=t;return{prompt:i[n]||"",addPrompt:r,promptPageInfo:{curr:n+1,total:i.length,canGoNext:n<i.length-1,canGoPrev:n>0},nextPrompt:o,prevPrompt:l}},I=()=>{let[e,t]=(0,p.M)("aiImageRatings",{});return{saveImageRating:(0,a.useCallback)((A,r)=>{A.savedMediaId&&(e[A.savedMediaId]=r,t(e))},[]),hasRatedImage:(0,a.useCallback)(t=>!t.savedMediaId||!!e[t.savedMediaId],[])}},Q=(e,t)=>{let A=(0,s.GV)(d.sX),r=A&&!e?"doc":"user",l="doc"===r?"workspaceSavedMedia":"userSavedMedia",{data:o,loading:n}=(0,m.L)({docId:A,interactionId:e,scope:r,count:3});return{savedMedia:(0,a.useMemo)(()=>{var e;return((null==o?void 0:null===(e=o[l])||void 0===e?void 0:e.edges)||[]).map(e=>e.node).filter(e=>{if(t){var A;return(null==e?void 0:null===(A=e.attrs)||void 0===A?void 0:A.query)===t}return!0})},[o,l,t]),isLoading:n}},w=()=>{let e=(0,s.GV)(d.Jo),t=(0,i.ez)("ai_models_plus",null==e?void 0:e.organization),A=(0,i.ez)("ai_premium_models",null==e?void 0:e.organization),r=t&&A?"pro":t?"plus":"free";return(0,a.useCallback)(e=>{let t=(0,n.kO)(e);if(!(0,n.CX)(e))return!1;let A=["free","plus","pro"];return A.indexOf(r)>=A.indexOf(t)},[r])},j=(e,t)=>{let A=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t)return;let r=A.current;if(!r)return;let a=r.querySelector('[data-popover-scroll-id="'.concat(e,'"]'));if(!(a instanceof HTMLElement))return;let l=a.offsetHeight/2,o=r.offsetHeight/2,n=a.offsetTop-o+l;r.scrollTo({top:n,behavior:"instant"})},[t,e]),{scrollContainerRef:A}}},54651:(e,t,A)=>{A.d(t,{L:()=>n,X:()=>o});var r=A(14041),a=A(50877),l=A(75251);let o=e=>{var t;let{docId:A,themeId:l,interactionId:o,scope:i="legacy",count:s=18,savedMediaContext:c}=e,{data:d,loading:u,fetchMore:g}=n({scope:i,docId:A,themeId:l,interactionId:o,count:s,savedMediaContext:c}),h=(0,r.useMemo)(()=>{switch(i){case"user":return"userSavedMedia";case"doc":return"workspaceSavedMedia";default:return"savedMedia"}},[i]),p=(0,r.useMemo)(()=>{var e;return((null==d?void 0:null===(e=d[h])||void 0===e?void 0:e.edges)||[]).map(e=>e.node)},[d,h]),m=null==d?void 0:null===(t=d[h])||void 0===t?void 0:t.pageInfo,[x,v]=(0,r.useState)(!1),f=(0,r.useCallback)(async()=>{if((null==m?void 0:m.hasNextPage)&&(null==m?void 0:m.endCursor)){v(!0);try{await g({variables:{after:m.endCursor},updateQuery:(e,t)=>{var A,r;let{fetchMoreResult:a}=t;if(!a)return e;let l=(null===(A=a[h])||void 0===A?void 0:A.edges)||[],o=[...(null===(r=e[h])||void 0===r?void 0:r.edges)||[],...l];return{...e,[h]:{...a[h],edges:o}}}})}catch(e){console.error("Error loading more images:",e)}finally{v(!1)}}},[g,m,h]),[C,E]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),[I]=(0,a.GQw)(),Q=(0,r.useCallback)(async e=>{E(e),y(!0);try{await I({variables:{id:e},update:t=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})}),t.gc()},refetchQueries:["GetSavedMedia","GetUserSavedMedia","GetWorkspaceSavedMedia"]})}catch(e){console.error("Error deleting image:",e)}finally{E(null),y(!1)}},[I]);return{history:p,loadMore:f,isLoadingMore:x,canLoadMore:!!(null==m?void 0:m.hasNextPage),isLoading:u,deleteImage:Q,deletingId:C,isDeleting:b}},n=e=>{let{scope:t,interactionId:A,docId:r,themeId:o,count:n=18,savedMediaContext:i}=e,s={workspaceId:(0,l.x)(i),types:[a.zut.Image],source:"image.ai-generated",first:n,...A?{interactionId:A}:{}},c={type:a.zut.Image,source:"image.ai-generated",first:n},d={...r?{docId:r}:{},...o?{themeId:o}:{}},u=(0,a.abJ)({variables:{...s},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"user"!==t}),g=(0,a.Gc5)({variables:{...s,...d},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"doc"!==t}),h=(0,a.N3Q)({variables:{...c,...d},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"legacy"!==t});return"user"===t?u:"doc"===t?g:h}},60107:(e,t,A)=>{A.d(t,{Cx:()=>E,et:()=>C,_v:()=>f,XB:()=>v,H$:()=>x,rh:()=>m,S6:()=>b});var r=A(17228),a=A.n(r),l=A(14041),o=A(11509),n=A(64225),i=A(16092),s=A(57673),c=A(5933),d=A(94140);let u=e=>{var t;let{contextualTheme:A}=e;(0,i.t)();let r=(0,n.GV)(s.ST),a=(0,n.GV)(c.SJ),o=A||a,u=!!(0,n.GV)(c.Jo),g=(0,l.useMemo)(()=>Object.values(d.bz).map(e=>({title:e,presets:d.xi.filter(t=>t.category===e&&!t.hidden&&(u||t.stylePreset!==d.nv.Custom))})),[u]),h=(0,l.useCallback)(e=>Object.values(d.nv).includes(e),[]),p=(0,l.useCallback)(e=>{if(!h(e))return"";if(h(e)){var t;return(null===(t=d.xi.find(t=>t.stylePreset===e))||void 0===t?void 0:t.stylePrompt)||""}return""},[h]),m=(0,l.useCallback)((e,t)=>{if(!h(e))return"";if(e===d.nv.Theme){var A;return(null==o?void 0:null===(A=o.config)||void 0===A?void 0:A.stylePrompt)||""}return e===d.nv.Custom?t:p(e)},[h,p,null==o?void 0:null===(t=o.config)||void 0===t?void 0:t.stylePrompt]),x=(0,l.useCallback)(e=>d.xi.find(t=>t.stylePreset===e),[]);return{stylePresetOptions:g,getStylePromptFromPreset:m,getThemeNameFromStylePrompt:(0,l.useCallback)(e=>{var t;return(null===(t=r.find(t=>t.config.stylePrompt===e))||void 0===t?void 0:t.name)||""},[r]),getPresetDisplayMetadata:x,getPredefinedStylePrompt:p}};var g=A(18784),h=A(952),p=A(37049);let m=100,x=8,v=200,f=void 0,C=3,E=void 0,b=e=>{var t,A,r,n,i,s,c,b,y,I,Q,w,j;let{contextualTheme:D,lastUsedImageGenerationSettingsInDoc:P,aiParams:M,savedMediaContext:S}=e,[B,R]=(0,p.Z)(),{stylePresetOptions:U,getStylePromptFromPreset:k,getThemeNameFromStylePrompt:T,getPresetDisplayMetadata:F}=u({contextualTheme:D}),{prompt:_,addPrompt:G,promptPageInfo:z,nextPrompt:H,prevPrompt:L}=(0,o.ab)(),[N,K]=(0,l.useState)(null!==(A=null!==(t=null==M?void 0:M.model)&&void 0!==t?t:null==P?void 0:P.model)&&void 0!==A?A:B),Y=(0,l.useCallback)(e=>{K(e),R(e)},[K,R]),[X,V]=(0,l.useState)(null!==(n=null!==(r=null==M?void 0:M.stylePreset)&&void 0!==r?r:null==P?void 0:P.stylePreset)&&void 0!==n?n:d.nv.None),[W,O]=(0,l.useState)(k(X,null==P?void 0:P.stylePrompt)),[Z,q]=(0,l.useState)(null!==(i=null==M?void 0:M.negative_prompt)&&void 0!==i?i:""),[$,J]=(0,l.useState)(null!==(s=null==M?void 0:M.count)&&void 0!==s?s:C),[ee,et]=(0,l.useState)(null!==(b=null!==(c=null==M?void 0:M.steps)&&void 0!==c?c:f)&&void 0!==b?b:0),[eA,er]=(0,l.useState)(null!==(I=null!==(y=null==M?void 0:M.cfg_scale)&&void 0!==y?y:E)&&void 0!==I?I:0),[ea,el]=(0,l.useState)(null!==(j=null!==(w=null!==(Q=null==M?void 0:M.aspectRatio)&&void 0!==Q?Q:(null==M?void 0:M.height)&&(null==M?void 0:M.width)?(0,h.KD)({height:M.height,width:M.width}):void 0)&&void 0!==w?w:null==P?void 0:P.aspectRatio)&&void 0!==j?j:g.X),eo=(0,l.useMemo)(()=>({prompt:_,model:N,stylePreset:X,stylePrompt:W,aspectRatio:ea,steps:ee?a()(ee,1,m):void 0,count:a()($,x),negative_prompt:Z,cfg_scale:eA?a()(eA,1,v):void 0,context:S}),[_,N,X,W,ea,Z,$,ee,eA,S]),en=(0,o.U9)();(0,l.useEffect)(()=>{en(N)||K(B)},[N,B,en]);let ei=(0,l.useCallback)((e,t)=>{if(el((0,h.P6)(e)),!e.aiParams)return;let{prompt:A,stylePreset:r,stylePrompt:a,model:l,negative_prompt:o,count:n,steps:i,cfg_scale:s}=e.aiParams;A&&G(A,t),a&&O(a),r&&V(r),l&&en(l)&&K(l),o&&q(o),n&&J(n),i&&et(i),s&&er(s)},[G,en]),es=(0,l.useCallback)(e=>{var t;let{aiParams:A}=e,{model:r,stylePrompt:a,stylePreset:l,prompt:o}=null!=A?A:{};el((0,h.P6)(e)),K(null!==(t=null!=r?r:null==P?void 0:P.model)&&void 0!==t?t:B),O(null!=a?a:""),V(null!=l?l:d.nv.None),G(null!=o?o:"","load")},[G,K,null==P?void 0:P.model,B]),ec=(0,l.useMemo)(()=>e=>!!e&&!!e.aiParams&&(_!==e.aiParams.prompt||N!==e.aiParams.model||ea!==(0,h.P6)(e)||X!==e.aiParams.stylePreset),[ea,N,X,_]);return{model:N,setModel:Y,prompt:_,addPrompt:G,promptPageInfo:z,nextPrompt:H,prevPrompt:L,stylePrompt:W,setStylePrompt:O,stylePreset:X,setStylePreset:V,stylePresetOptions:U,getPresetDisplayMetadata:F,getThemeNameFromStylePrompt:T,getStylePromptFromPreset:k,aspectRatio:ea,setAspectRatio:el,imageGenerateConfig:eo,loadImageAiParams:ei,resetImageAiParams:es,isPromptDirty:ec,negativePrompt:Z,setNegativePrompt:q,count:$,setCount:J,steps:ee,setSteps:et,cfgScale:eA,setCfgScale:er}}},37049:(e,t,A)=>{A.d(t,{Z:()=>i});var r=A(14041),a=A(65998),l=A(20221),o=A(30358),n=A(11509);let i=()=>{var e;let t=(0,a.u)("aiGeneratedImagesDefaultModel"),A=(0,n.U9)(),{user:i,setSettings:s}=(0,o.ur)(),c=null==i?void 0:null===(e=i.settings)||void 0===e?void 0:e.preferredAiImageModel;return[c&&(0,l.CX)(c)&&A(c)?c:t,(0,r.useCallback)(e=>{null==s||s({set:{preferredAiImageModel:e}})},[s])]}},75251:(e,t,A)=>{A.d(t,{x:()=>i});var r=A(50877),a=A(64225),l=A(5933),o=A(57882),n=A(27042);let i=e=>{var t,A;let i=(0,o.gx)(),s=(0,a.GV)(l.Jo),c=null==s?void 0:null===(t=s.organization)||void 0===t?void 0:t.id,d=null===(A=(0,o.bs)(c))||void 0===A?void 0:A.id,u=(0,a.GV)((0,n.A1)(null!=c?c:""));return e!==r.rWX.Dashboard&&u?d:i}},61722:(e,t,A)=>{A.d(t,{g7:()=>r.g,vT:()=>a.vT,nk:()=>a.nk,ez:()=>a.ez,Fd:()=>a.Fd}),A(8917);var r=A(53013),a=A(32849);A(14041)},46301:(e,t,A)=>{A.d(t,{j:()=>_});var r=A(31085),a=A(62313),l=A(80532),o=A(35687),n=A(25420),i=A(63341),s=A(18528),c=A(80853),d=A(72821),u=A(48310),g=A(33473),h=A(74727),p=A(9021),m=A(20501),x=A(24221),v=A(95986),f=A(52177),C=A(12327),E=A(39324),b=A.n(E),y=A(14041),I=A(1602),Q=A.n(I),w=A(92667),j=A(25676),D=A(17228),P=A.n(D);let M={soft:{name:"Soft",spin:[0,-40,40],lighten:[0,0,0]},duo:{name:"Duo",spin:[0,180],lighten:[0,0]},crescent:{name:"Crescent",spin:[0,-45,45,-90,90],lighten:[0,0,0,0,0]},wisp:{name:"Wisp",spin:[0,72,216],lighten:[0,0,0]},mono:{name:"Mono",spin:[0,0,0],lighten:[0,20,40]},cosmos:{name:"Cosmos",spin:[0,72,144,216,288],lighten:[0,0,0,0,0]}},S=e=>{let t=[];e.forEach((e,A)=>{let r=e.setAlpha(1),a=r.toHsl().h*A,l="radial-gradient(circle at ".concat(2*a%360/360*50,"% ").concat(3*a%360/360*50,"%, ").concat(r.setAlpha(.5).toHex8String()," 0, ").concat(r.setAlpha(0).toHex8String()," ").concat(1*a%360/360*50+50,"%)");t.push(l)});let A=e[0].setAlpha(.5).toHex8String();return t.push("linear-gradient(0deg, ".concat(A," 0%, ").concat(A," 100%)")),{backgroundImage:t.join(",")}},B=(e,t)=>{let A=M[e],r=[];return A.spin.forEach(e=>{let A=Q()(t.toHsv()).spin(e);r.push(A)}),A.lighten.forEach((e,t)=>{r[t].lighten(e)}),r},R=(e,t)=>{let A=B(e,t),r=S(A);return{colors:A,gradient:r}},U=(e,t,A)=>{t.forEach(e=>{e&&(e.style.opacity="0")}),e.forEach((e,r)=>{let a=t[r];if(!a||!A)return;let l=function(e,t){let A=e.offsetWidth,r=Q()(t),a=Math.PI/180*r.toHsl().h,l=-(r.toHsl().l*A)+A;return{x:A/2-l*Math.cos(a),y:A/2-l*Math.sin(a)}}(A,e);a.style.transform="translate(calc(".concat(l.x,"px - 50%),calc(").concat(l.y,"px - 50%))"),a.style.backgroundColor=e.toHexString(),a.style.opacity="1"})},k=(0,y.forwardRef)(function(e,t){let{isPrimary:A=!1,noTransition:a=!1}=e;return(0,r.jsx)(l.az,{ref:t,borderRadius:"full",boxSize:A?7:5,pos:"absolute",zIndex:A?2:1,shadow:"base",border:"2px solid white",pointerEvents:"none",transitionProperty:a?"none":"transform",transitionDuration:"normal"})}),T=(0,y.memo)(e=>{let{updateColor:t,colors:A}=e,a=(0,y.useRef)(null),o=(0,y.useRef)(null),i=(0,y.useRef)(null),s=(0,y.useRef)(null),c=(0,y.useRef)(null),d=(0,y.useRef)(null),u=(0,y.useMemo)(()=>[o,i,s,c,d],[]);(0,y.useEffect)(()=>{U(A,u.map(e=>e.current),a.current)},[A,u]);let g=(0,y.useCallback)(e=>{if(!a.current)return;let A=a.current.getBoundingClientRect();(e.clientX||e.clientY)&&t(function(e,t,A){let r=e.current.offsetWidth,a=e.current.offsetHeight,l=r/2,o=a/2,n=function(e,t,A,r,a){let l=A-e,o=r-t,n=Math.sqrt(o*o+l*l);return P()(n,0,a)}(t,A,l,o,r/2),i=180/Math.PI*Math.atan2(o-A,l-t),s=i+360*Math.ceil(-i/360)+1,c=Math.abs(-n/r+1);return Q().fromRatio({h:s,s:1,l:c})}(a,e.clientX-A.left,e.clientY-A.top))},[t]),h=(0,y.useCallback)(()=>{document.removeEventListener("mousemove",g)},[g]),p=(0,y.useCallback)(e=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h,{once:!0}),g(e)},[g,h]);return(0,r.jsxs)(l.az,{onMouseDown:p,p:4,m:-4,position:"relative",children:[(0,r.jsx)(k,{ref:o,noTransition:!0,isPrimary:!0}),(0,r.jsx)(k,{ref:i}),(0,r.jsx)(k,{ref:s}),(0,r.jsx)(k,{ref:c}),(0,r.jsx)(k,{ref:d}),(0,r.jsx)(j.g,{ratio:1,children:(0,r.jsxs)(n.s,{ref:a,position:"relative",borderRadius:"full",shadow:"lg",children:[(0,r.jsx)(n.s,{pos:"absolute",borderRadius:"full",bg:"radial-gradient(circle closest-side, rgb(255, 255, 255), transparent)",inset:0,zIndex:1}),(0,r.jsx)(n.s,{pos:"absolute",inset:0,bg:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",transform:"rotateZ(270deg)",borderRadius:"full"})]})})]})}),F={vibe:"mono",primaryColor:"#75d8ff",css:{}},_=e=>{let{value:t,updateValue:A,isDark:E}=e,{vibe:I,primaryColor:j}={...F,...t},[D,P]=(0,y.useState)(Q()(j)),{colors:S,gradient:B}=(0,y.useMemo)(()=>R(I,D),[I,D]),U=(0,y.useCallback)(e=>{let{gradient:t}=R(I,e);A({vibe:I,primaryColor:e.toHexString(),css:t})},[I,A]),k=(0,w.wb)(U,100),_=(0,y.useCallback)(e=>{P(e),k(e)},[k]);return(0,r.jsxs)(a.z,{spacing:4,alignItems:"stretch",wrap:"wrap",children:[(0,r.jsx)(l.az,{flex:"1",minW:"120px",children:(0,r.jsx)(T,{vibe:M[I],color:D,updateColor:_,colors:S})}),(0,r.jsxs)(o.B,{flex:"2",spacing:4,minW:"180px",children:[(0,r.jsx)(n.s,{backgroundColor:E?"black":"white",...B,opacity:1,flex:"1",borderRadius:"md",shadow:"md",minH:"80px",mt:2}),(0,r.jsxs)(a.z,{children:[(0,r.jsxs)(i.W,{children:[(0,r.jsx)(s.I,{w:"100%",as:c.$,size:"sm",variant:"plain",textAlign:"left",rightIcon:(0,r.jsx)(x.g,{icon:m.Jt$}),children:M[I].name}),(0,r.jsx)(d.c,{minWidth:"240px",zIndex:"dropdown",children:(0,r.jsx)(u.i,{onChange:e=>{let{gradient:t}=R(e,D);A({vibe:e,primaryColor:D.toHexString(),css:t})},value:I,title:C.Ru._({id:"1CalO6"}),type:"radio",children:Object.entries(M).map(e=>{let[t,{name:A}]=e;return(0,r.jsx)(g.k,{value:t,children:A},t)})})})]}),(0,r.jsx)(h.e,{size:"sm",variant:"plain",children:(0,r.jsx)(v.Tz,{placement:"top",label:(0,r.jsx)(f.x6,{id:"OVjfHO"}),children:(0,r.jsx)(p.K,{icon:(0,r.jsx)(x.g,{icon:m.xNJ}),"aria-label":C.Ru._({id:"OVjfHO"}),onClick:()=>{_(Q().fromRatio({h:b()(0,360),s:1,l:b()(.5,.8)}))}})})})]})]})]})}},41124:(e,t,A)=>{A.d(t,{tN:()=>ed,Wv:()=>eg,a9:()=>eu,oB:()=>em,Pf:()=>ex});var r=A(31085),a=A(19098),l=A(64444),o=A(93185),n=A(97864),i=A(92515),s=A(57812),c=A(19727),d=A(62313),u=A(71792),g=A(96502),h=A(76166),p=A(35436),m=A(9021),x=A(80853),v=A(2600),f=A(61778),C=A(20501),E=A(24221),b=A(95986),y=A(52177),I=A(12327),Q=A(14041),w=A(1771),j=A(63723),D=A(70323),P=A(25420),M=A(1984),S=A(15672),B=A(75254),R=A.n(B),U=A(33919),k=A(20671),T=A(80532),F=A(17228),_=A.n(F),G=A(1602),z=A.n(G),H=A(32043),L=A(76228),N=A(63552);let K=(0,N.R)((e,t)=>{let{color:A,name:a,isActive:l,size:o=8,onClick:n,buttonProps:i}=e,s=(0,w.ZY)(A)?"white":"black";return(0,r.jsx)(b.Tz,{label:a,placement:"top",isDisabled:!a,children:(0,r.jsx)(x.$,{display:"inline-block",alignSelf:"center",boxSize:o,borderRadius:"md",border:"1px solid",borderColor:"gray.200",color:s,css:(0,w.Sf)(A),onClick:()=>null==n?void 0:n(A),variant:"unstyled",minW:o,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",ref:t,...i,children:l&&(0,r.jsx)(L.S,{})})})});K.displayName="ThemeColorIcon";var Y=A(63341),X=A(18528),V=A(72821),W=A(48310),O=A(33473);let Z=e=>{let{mode:t,setMode:A}=e;return(0,r.jsxs)(Y.W,{children:[(0,r.jsx)(X.I,{as:x.$,size:"sm",rightIcon:(0,r.jsx)(E.g,{icon:C.Jt$,size:"sm"}),minW:24,textAlign:"left",children:t}),(0,r.jsx)(V.c,{children:(0,r.jsx)(W.i,{defaultValue:t,value:t,title:"Color Mode",type:"radio",onChange:A,children:["HEX","RGB","HSL"].map(e=>(0,r.jsx)(O.k,{value:e,children:e},e))})})]})},q={type:"solid",color:"#FF0000"},$=e=>{let[t,A]=(0,Q.useState)("HEX"),a=e.color||e.defaultColor||q,l=(0,w.Ik)(a),{updateColor:o}=e,n=(0,Q.useCallback)(e=>{o({type:"solid",color:e})},[o]);return(0,r.jsxs)(v.T,{align:"start",spacing:4,children:[(0,r.jsx)(ex,{...e}),(0,r.jsxs)(v.T,{children:[(0,r.jsx)(er,{color:l,onChange:n}),(0,r.jsxs)(d.z,{w:"100%",spacing:4,children:[(0,r.jsx)(K,{color:a}),(0,r.jsx)(eA,{color:l,onChange:n}),(0,r.jsx)(ea,{color:l,onChange:n})]}),(0,r.jsxs)(d.z,{flex:1,w:"100%",children:[(0,r.jsx)(Z,{mode:t,setMode:A}),"HEX"===t&&(0,r.jsx)(J,{initialFocusRef:e.initialFocusRef,color:l,updateColor:n,placeholder:q.color}),"HSL"===t&&(0,r.jsx)(ee,{color:l,updateColor:n}),"RGB"===t&&(0,r.jsx)(et,{color:l,updateColor:n})]})]})]})},J=e=>{let{color:t,updateColor:A,placeholder:a,initialFocusRef:l}=e,[o,n]=(0,Q.useState)(t),[i,s]=(0,Q.useState)(!1);(0,Q.useEffect)(()=>{n(t)},[t]);let c=(0,Q.useCallback)(e=>{let t=e.target.value;n(t),(0,j.fd)(t)&&A(t)},[A]),d=(0,Q.useCallback)(e=>{let t=(0,H.U)(e.target.value);(0,j.fd)(t)&&A(t)},[A]);return(0,Q.useEffect)(()=>{if(l&&!i){var e;null===(e=l.current)||void 0===e||e.select(),s(!0)}},[i,l]),(0,r.jsx)(k.p,{ref:l,size:"sm",type:"text",value:o,onChange:c,onBlur:d,onKeyDown:e=>{"Enter"===e.key&&d(e)},fontFamily:"mono",placeholder:a,"data-testid":"color-picker-text-input-hex"})},ee=e=>{let{color:t,updateColor:A}=e,a=z()(t).toHsl(),[l,o,n]=[a.h,100*a.s,100*a.l],i=e=>{A(z()({h:e,s:o/100,l:n/100}).toHexString())},s=e=>{A(z()({h:l,s:e/100,l:n/100}).toHexString())},c=e=>{A(z()({h:l,s:o/100,l:e/100}).toHexString())};return(0,r.jsxs)(d.z,{children:[(0,r.jsx)(k.p,{size:"sm",type:"number",value:Math.round(l),onChange:e=>i(Number(e.target.value)),min:0,max:360,step:1,flex:1}),(0,r.jsx)(k.p,{size:"sm",type:"number",value:Math.round(o),onChange:e=>s(Number(e.target.value)),min:0,max:100,step:1,flex:1}),(0,r.jsx)(k.p,{size:"sm",type:"number",value:Math.round(n),onChange:e=>c(Number(e.target.value)),min:0,max:100,step:1,flex:1})]})},et=e=>{let{color:t,updateColor:A}=e,a=z()(t).toRgb(),[l,o,n]=[a.r,a.g,a.b],i=e=>{A(z()({r:e,g:o,b:n}).toHexString())},s=e=>{A(z()({r:l,g:e,b:n}).toHexString())},c=e=>{A(z()({r:l,g:o,b:e}).toHexString())};return(0,r.jsxs)(d.z,{children:[(0,r.jsx)(k.p,{size:"sm",type:"number",value:l,onChange:e=>i(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,r.jsx)(k.p,{size:"sm",type:"number",value:o,onChange:e=>s(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,r.jsx)(k.p,{size:"sm",type:"number",value:n,onChange:e=>c(Number(e.target.value)),min:0,max:255,step:1,flex:1})]})},eA=e=>{let{color:t,onChange:A}=e,a=z()(t).toHsv(),[l,o]=(0,Q.useState)(a.h);return(0,Q.useEffect)(()=>{o(a.h)},[a.h]),(0,r.jsxs)(M.Ap,{min:0,max:360,defaultValue:l,value:l,size:"lg",onChange:e=>{o(e),A(z()({h:e,s:a.s,v:a.v}).toHexString())},step:.1,focusThumbOnChange:!1,children:[(0,r.jsx)(M.hB,{h:3,borderRadius:"full",bgGradient:"linear(to-r, hsl(0, 100%, 50%),  hsl(60, 100%, 50%),  hsl(120, 100%, 50%),  hsl(180, 100%, 50%),  hsl(240, 100%, 50%),  hsl(300, 100%, 50%),  hsl(360, 100%, 50%))"}),(0,r.jsx)(M.OQ,{borderWidth:3,borderColor:"white",bg:"hsl(".concat(a.h,", 100%, 50%)"),boxSize:"24px",shadow:"md",outline:"1px solid",outlineColor:"blackAlpha.200"})]})},er=e=>{let{color:t,onChange:A}=e,[a,l]=(0,Q.useState)(!1),o=(0,Q.useRef)(null),n=(0,Q.useRef)(null),i=(0,Q.useRef)(null),s=z()(t).toHsv(),c=z()({h:s.h,s:100,v:100}),d=(0,Q.useCallback)((e,t)=>{if(!o.current)return;let A=e/o.current.width,r=1-t/o.current.height;return s.s=A,s.v=r,s},[s]),u=(0,Q.useCallback)(e=>{if(!o.current)return{x:0,y:0};let t=z()(e).toHsv(),A=t.s,r=t.v;return{x:A*o.current.width,y:(1-r)*o.current.height}},[]),g=(0,Q.useCallback)(()=>{let e=o.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let A=e.width,r=e.height,a=t.createLinearGradient(0,0,A,0);a.addColorStop(0,"white"),a.addColorStop(1,c.toHexString()),t.fillStyle=a,t.fillRect(0,0,A,r);let l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"black"),t.fillStyle=l,t.fillRect(0,0,A,r)},[c]),h=(0,Q.useCallback)((e,t)=>{if(!o.current||!n.current)return{x:0,y:0};let A=o.current.clientWidth,r=o.current.clientHeight,a=_()(e,0,A),l=_()(t,0,r);return n.current.style.left="".concat(a,"px"),n.current.style.top="".concat(l,"px"),{x:a,y:l}},[]);(0,Q.useEffect)(()=>{g();let{x:e,y:A}=u(t);h(e,A)},[t,u,g,h]);let p=(0,Q.useCallback)(e=>{if(!i.current)return;let t=i.current.getBoundingClientRect(),{x:r,y:a}=h(e.clientX-t.left,e.clientY-t.top),l=d(r,a);l&&(A(z()(l).toHexString()),e.preventDefault())},[A,d,h]),m=(0,Q.useCallback)(e=>{l(!1),e.preventDefault()},[]),x=(0,Q.useCallback)(e=>{l(!0),p(e),e.preventDefault()},[p]);return(0,Q.useEffect)(()=>{if(a)return document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)}},[p,m,a]),(0,r.jsxs)(T.az,{pos:"relative",ref:i,onMouseDown:x,children:[(0,r.jsx)(T.az,{ref:n,pos:"absolute",w:5,h:5,border:"2px solid white",borderRadius:"full",transform:"translate(-50%, -50%) scale(".concat(a?1.2:1,")"),boxShadow:"md",transitionProperty:"transform",transitionDuration:"normal",bg:z()(t).toHexString(),outline:"1px solid",outlineColor:"blackAlpha.200"}),(0,r.jsx)(T.az,{as:"canvas",ref:o,width:"100%",height:"150px",borderRadius:"md",shadow:"base",border:"1px solid",borderColor:"gray.200"})]})},ea=e=>{let{onChange:t}=e,A=(0,Q.useCallback)(()=>{new window.EyeDropper().open().then(e=>{t(e.sRGBHex)}).catch(e=>{console.error("Eyedropper error:",e)})},[t]);return"EyeDropper"in window?(0,r.jsx)(m.K,{size:"sm",icon:(0,r.jsx)(E.g,{fixedWidth:!0,icon:C.jC5}),onClick:A,variant:"ghost","aria-label":I.Ru._({id:"A94+Ww"})}):null},el=e=>{let[t,A]=(0,Q.useState)("HEX"),{updateColor:a,color:l}=e,[o,n]=(0,Q.useState)(0),i=l.stops[o],s=(0,Q.useCallback)((e,t)=>{let A=[...l.stops];void 0===t?(A.splice(e,1),n(Math.min(e,A.length-1))):(A[e]=t,n(e)),a({...l,stops:A})},[l,a]),c=(0,Q.useCallback)(e=>{let t=[...l.stops];t.push(e),t.sort((e,t)=>e.position-t.position),n(R()(t,e)),a({...l,stops:t})},[l,a]),u=(0,Q.useCallback)(e=>{s(o,{...i,color:e})},[i,o,s]);return(0,r.jsxs)(v.T,{align:"start",spacing:4,children:[(0,r.jsx)(eo,{...e,addStop:c,currentStop:i,updateStop:s,currentStopIndex:o,setCurrentStopIndex:n}),(0,r.jsx)(ex,{...e,updateColor:e=>{"linear-gradient"===e.type?a(e):u(null==e?void 0:e.color)}}),(0,r.jsx)(D.c,{}),(0,r.jsxs)(v.T,{children:[(0,r.jsx)(er,{color:i.color,onChange:u}),(0,r.jsxs)(d.z,{w:"100%",spacing:4,children:[(0,r.jsx)(K,{color:l}),(0,r.jsx)(eA,{color:i.color,onChange:u}),(0,r.jsx)(ea,{color:i.color,onChange:u})]}),(0,r.jsxs)(d.z,{flex:1,w:"100%",children:[(0,r.jsx)(Z,{mode:t,setMode:A}),"HEX"===t&&(0,r.jsx)(J,{initialFocusRef:e.initialFocusRef,color:i.color,updateColor:u,placeholder:q.color}),"HSL"===t&&(0,r.jsx)(ee,{color:i.color,updateColor:u}),"RGB"===t&&(0,r.jsx)(et,{color:i.color,updateColor:u})]}),(0,r.jsx)(en,{...e})]})]})},eo=e=>{let{color:t,updateStop:A,currentStopIndex:a,setCurrentStopIndex:l,addStop:o}=e,{stops:n}=t,i=n.length>2,s=n.length<5;return(0,r.jsxs)(d.z,{w:"100%",spacing:0,children:[(0,r.jsx)(P.s,{borderRadius:"full",background:(0,U.yh)({...t,angle:90}),pos:"relative",h:3,border:"1px solid",borderColor:"gray.200",flex:1,mr:2,children:n.map((e,t)=>{let o=t===a;return(0,r.jsx)(P.s,{pos:"absolute",inset:0,top:-1.5,children:(0,r.jsxs)(M.Ap,{size:"lg",value:e.position,min:0,max:100,step:1,onChange:r=>{A(t,{...e,position:r})},onClick:()=>l(t),children:[(0,r.jsx)(M.hB,{bg:"transparent",h:3}),(0,r.jsx)(M.OQ,{borderWidth:3,borderColor:"white",boxSize:"24px",shadow:"md",outline:o?"2px solid":"1px solid",outlineColor:o?"trueblue.300":"blackAlpha.200",bg:e.color})]})},t)})}),(0,r.jsx)(b.Tz,{label:(0,r.jsx)(y.x6,{id:"VztmP9"}),children:(0,r.jsx)(m.K,{icon:(0,r.jsx)(E.g,{icon:C.yLS}),"aria-label":I.Ru._({id:"VztmP9"}),onClick:()=>A(a,void 0),size:"sm",variant:"ghost",isDisabled:!i})}),(0,r.jsx)(b.Tz,{label:(0,r.jsx)(y.x6,{id:"MKajKJ"}),children:(0,r.jsx)(m.K,{icon:(0,r.jsx)(E.g,{icon:C.QLR}),"aria-label":I.Ru._({id:"MKajKJ"}),onClick:()=>{o(ei(t))},size:"sm",variant:"ghost",isDisabled:!s})})]})},en=e=>{let{color:t,updateColor:A}=e;return(0,r.jsxs)(v.T,{align:"start",w:"100%",children:[(0,r.jsx)(f.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,r.jsx)(y.x6,{id:"YMybpT"})}),(0,r.jsx)(S.r,{columns:4,spacing:2,w:"100%",children:es.map(e=>{let a=t.angle===e.value;return(0,r.jsx)(K,{color:{...t,angle:e.value},onClick:()=>A({...t,angle:e.value}),isActive:a,buttonProps:{w:"100%"},name:e.label},e.value)})})]})},ei=e=>{let t=e.stops[0],A=e.stops[1],r=e.stops.reduce((r,a,l)=>{let o=e.stops[l+1];if(!o)return r;let n=o.position-a.position;return n>r.distance?(t=a,A=o,{distance:n,position:a.position+n/2}):r},{distance:0,position:0});return{color:(0,j.tV)(t.color,A.color,r.position/100),position:r.position}},es=[{label:"0\xb0",value:0},{label:"45\xb0",value:45},{label:"90\xb0",value:90},{label:"135\xb0",value:135},{label:"180\xb0",value:180},{label:"225\xb0",value:225},{label:"270\xb0",value:270},{label:"315\xb0",value:315}],ec=(0,N.R)((e,t)=>{let{color:A,updateColor:a,defaultColor:l={type:"solid",color:"#000000"},onClick:o,canReset:n,dataTestId:i}=e;return(0,r.jsxs)(h.M,{size:"md","data-testid":i,children:[(0,r.jsx)(k.p,{type:"text",placeholder:l?"".concat((0,w.ZR)(l)," ").concat(I.Ru._({id:"P9Cyl9"})):I.Ru._({id:"ovBPCi"}),value:A?(0,w.ZR)(A):"",readOnly:!0,fontFamily:"monospace",bg:"white",onFocus:o}),(0,r.jsx)(p.W,{children:(0,r.jsx)(K,{color:A||l,ref:t,onClick:o,size:7})}),n&&(0,r.jsx)(p.t,{children:(0,r.jsx)(b.Tz,{label:(0,r.jsx)(y.x6,{id:"L+rMC9"}),placement:"top",children:(0,r.jsx)(m.K,{"aria-label":I.Ru._({id:"cnGeoo"}),variant:"ghost",onClick:()=>a(void 0),icon:(0,r.jsx)(E.g,{icon:C.U23}),size:"sm",colorScheme:"red"})})})]})});ec.displayName="ThemeColorPickerInput";let ed=e=>{let t=(0,Q.useRef)(null);return(0,r.jsxs)(a.A,{isLazy:!0,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],initialFocusRef:t,children:[(0,r.jsx)(l.W,{children:(0,r.jsx)(ec,{...e,canReset:!!(e.color&&e.defaultColor)})}),(0,r.jsx)(o.h,{zIndex:"modalPopover",border:"1px solid",borderColor:"gray.100",children:(0,r.jsx)(n.e,{children:(0,r.jsx)(ep,{...e,initialFocusRef:t})})})]})},eu=e=>(0,r.jsx)(ed,{...e,solidOnly:!0}),eg=e=>(0,r.jsx)(ed,{...e}),eh=["solid","linear-gradient"],ep=e=>{let{color:t,updateColor:A,solidOnly:a}=e,l=(null==t?void 0:t.type)||"solid",o=eh.indexOf(l),n=(0,Q.useCallback)(e=>{let r=eh[e];if(l===r)return;let a=(0,w.Ik)(t||q);"solid"===r?A({color:a,...t,type:"solid"}):"linear-gradient"===r&&A({stops:[{color:a,position:0},{color:(0,j.Pf)(a,(0,j.$p)(a)?20:-20),position:100}],angle:45,...t,type:"linear-gradient"})},[l,t,A]);return a?(0,r.jsx)($,{...e}):(0,r.jsxs)(i.t,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:o,onChange:n,children:[(0,r.jsxs)(s.w,{children:[(0,r.jsx)(c.o,{children:(0,r.jsxs)(d.z,{children:[(0,r.jsx)(E.g,{icon:C.l8N,fixedWidth:!0}),(0,r.jsx)(y.x6,{id:"5bi1la"})]})}),(0,r.jsx)(c.o,{children:(0,r.jsxs)(d.z,{children:[(0,r.jsx)(E.g,{icon:C.IlC,fixedWidth:!0}),(0,r.jsx)(y.x6,{id:"/S8bMP"})]})})]}),(0,r.jsxs)(u.T,{children:[(0,r.jsx)(g.K,{p:0,pt:4,children:(0,r.jsx)($,{...e})}),(0,r.jsx)(g.K,{p:0,pt:4,children:(0,r.jsx)(el,{...e,color:t})})]})]})},em=e=>{let{colors:t,updateColors:A,buttonLabel:a,maxColors:l=10,minColors:o=0,theme:n,palette:i,solidOnly:s}=e,c=(0,Q.useCallback)(e=>{let r=[...t];r.splice(e,1),A(r)},[t,A]),d=(0,Q.useCallback)((e,r)=>{if(!r){c(e);return}let a=[...t];a[e]=r,A(a)},[t,A,c]),u=(0,Q.useCallback)(()=>{A([...t,q])},[t,A]);return(0,r.jsxs)(r.Fragment,{children:[t.map((e,A)=>(0,r.jsxs)(h.M,{mb:2,css:{isolation:"unset"},children:[(0,r.jsx)(eg,{theme:n,color:e,updateColor:e=>d(A,e),palette:i,solidOnly:s}),t.length>o&&(0,r.jsx)(p.t,{children:(0,r.jsx)(b.Tz,{label:(0,r.jsx)(y.x6,{id:"DXNS21"}),placement:"top",children:(0,r.jsx)(m.K,{"aria-label":I.Ru._({id:"cnGeoo"}),variant:"ghost",size:"sm",colorScheme:"red",onClick:()=>c(A),icon:(0,r.jsx)(E.g,{icon:C.yLS})})})})]},A)),t.length<l&&(0,r.jsx)(x.$,{onClick:u,variant:"plain",size:"sm",leftIcon:(0,r.jsx)(E.g,{icon:C.QLR}),children:a||(0,r.jsx)(y.x6,{id:"Fz6khn"})})]})},ex=e=>{let{theme:t,color:A,updateColor:a,solidOnly:l=!1,palette:o="theme"}=e,n=[];return("theme"===o?n=(0,w.ND)(t,l):"accent"===o&&(n=(0,w.CD)(t)),l&&(n=n.filter(w.mO)),0===n.length)?null:(0,r.jsxs)(v.T,{align:"start",children:[(0,r.jsx)(f.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,r.jsx)(y.x6,{id:"DNUgpN"})}),(0,r.jsx)(d.z,{wrap:"wrap",children:n.map((e,t)=>(0,r.jsx)(K,{name:(0,w.mO)(e)?(0,w.ZR)(e):void 0,color:e,onClick:a,isActive:A&&(0,w.Gw)(A,e)},t))})]})}},16092:(e,t,A)=>{A.d(t,{t:()=>i});var r=A(14041),a=A(50877),l=A(64225),o=A(57673),n=A(57882);let i=()=>{let e=(0,n.gx)(),t=(0,l.jL)(),{data:A,loading:i}=(0,a.Snx)({variables:{workspaceId:e,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:s,loading:c}=(0,a.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),d=(0,r.useMemo)(()=>(null==s?void 0:s.themes)||[],[null==s?void 0:s.themes]),u=(0,r.useMemo)(()=>(null==A?void 0:A.themes)||[],[null==A?void 0:A.themes]);return(0,r.useEffect)(()=>{d.length>0&&t((0,o.cA)({globalThemes:d}))},[t,d]),(0,r.useEffect)(()=>{u.length>0&&t((0,o._N)({workspaceThemes:u}))},[t,u]),{isLoadingThemes:i||c,globalThemes:d}}},32043:(e,t,A)=>{A.d(t,{S:()=>s,U:()=>d});var r=A(31085),a=A(14041),l=A(32133),o=A(41124),n=A(1771),i=A(5933);let s=e=>{let{currentAttributes:t,updateAttributes:A,contextualTheme:s}=e,c=(0,l.d4)(i.SJ),d=(0,a.useCallback)(e=>A({hex:(0,n.Ik)(e)}),[A]);if("string"==typeof t)return d(t),(0,r.jsx)(r.Fragment,{});let{hex:u}=t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.a9,{color:{type:"solid",color:u},updateColor:d,theme:s||c,palette:"theme"})})},c=e=>e.replaceAll("#","").replaceAll(/[^A-Fa-f0-9]/g,"").slice(0,6),d=e=>{let t=c(e),A="";switch(t.length){case 0:return"";case 1:for(let e=0;e<6;e++)A+=t;break;case 2:for(let e=0;e<3;e++)A+=t;break;case 3:case 4:case 5:A=t.slice(0,3).split("").map(function(e){return e+e}).join("");break;default:A=t}return"#"+A.toUpperCase()}},69646:(e,t,A)=>{A.d(t,{Wq:()=>h,iM:()=>u,jL:()=>g,nO:()=>m,wE:()=>p,wV:()=>x});var r=A(13236),a=A(3668),l=A.n(a),o=A(81570),n=A(64225),i=A(5933),s=A(14e3),c=A(19534),d=A(82354);let u=r.YY.create({name:"cardCollapse",addKeyboardShortcuts:()=>({Escape:e=>{let{editor:t}=e,A=(0,n.KA)();if((0,i.wC)(A.getState())===s.w.SLIDE_VIEW)return!1;let{selection:a}=t.state;if(!a.empty)return!1;let l=(0,r.KP)(c.jg)(a);return!!l&&l.depth>d.$x&&!h(l.node)&&(p(l.node.attrs.id,!0),!0)}}),addProseMirrorPlugins:()=>[new o.k_({key:new o.hs("cardCollapse"),appendTransaction:(e,t,A)=>{if(A.selection.eq(t.selection)||!A.selection.empty)return;let a=(0,r.KP)(c.jg)(A.selection);if(!a)return;let{node:l,pos:n}=a;if(h(l))try{let{tr:e}=A,t=o.nh.create(e.doc,n);if(!t)return;return e.setSelection(t)}catch(e){console.error("Error moving selection out of collapsed card",{node:l,pos:n},e)}}})]}),g=(e,t)=>{let A=[],r=[];e.descendants((e,t,a)=>{if(!(0,c.jg)(e))return;let{id:l}=e.attrs;a&&"document"===a.type.name?A.push(l):r.push(l)}),t((0,i.ln)({cardIds:A,isCollapsed:!1})),t((0,i.ln)({cardIds:r,isCollapsed:!0}))},h=e=>{let t="string"==typeof e?e:e.attrs.id;if(!t)return;let A=(0,n.KA)().getState();return(0,i.WS)(t)(A)},p=(e,t)=>{if(l()(e)){console.error("[setCardCollapsed] Input is unexpectedly not string | string[]: ",e);return}let A=Array.isArray(e)?e:[e],r=(0,n.KA)();(1!==A.length||(0,i.WS)(A[0])(r.getState())!==t)&&r.dispatch((0,i.ln)({cardIds:A,isCollapsed:t}))},m=e=>{let t=[];e.state.doc.descendants(e=>{if(!(0,c.jg)(e))return;let{id:A}=e.attrs;t.push(A)}),p(t,!1)},x=e=>{let t=(0,n.KA)();void 0===t.getState().TipTap.memoState.expandedCards[e]&&t.dispatch((0,i.ln)({cardIds:[e],isCollapsed:!1}))}},32262:(e,t,A)=>{A.d(t,{Ib:()=>x,M7:()=>C,OM:()=>f,Tv:()=>p,Ub:()=>b,hT:()=>m});var r=A(13236),a=A(81570),l=A(64225),o=A(80352),n=A(33242),i=A(5933),s=A(95580),c=A(0),d=A(14e3),u=A(69646),g=A(82354),h=A(77646);let p=(e,t,A)=>{let a=e=>{let t=(0,h.jg)(e),r="boolean"!=typeof A||(0,u.Wq)(e)===A;return t&&r},l=e.state.doc.nodeAt(t),o=e.state.doc.resolve(t);return l&&a(l)?{node:l,pos:t,start:o.start,depth:o.depth}:(0,r.eL)(e.state.doc.resolve(t),a)},m=(e,t)=>{try{let A=(e,t)=>(0,h.jg)(e)&&t===g.$x,r=e.resolve(t),a=e.nodeAt(t);if(a&&A(a,r.depth+1))return{node:a,pos:t};return(0,s.Ft)(r,A)}catch(e){console.error("[findTopCardNodeParent] error",e);return}},x=e=>{let{pos:t,editor:A}=e,r=(0,s.TK)(A.state.doc.resolve(t),h.jg).map(e=>e.node.attrs.id);(0,u.wE)(r,!1)},v=async e=>{let{cardId:t,pos:A,editor:r,cardEl:l,isNested:i=!1,origin:s="editor"}=e;if(!l){console.error("[scrollToCard] no cardEl specified");return}(0,u.wE)(t,!1),x({pos:A,editor:r}),await (0,o.H1)("editor").scrollElementIntoView({element:l,delay:i?g.M2:0}),r.commands.command(e=>{let{tr:t}=e;return t.setSelection(a.LN.near(r.state.doc.resolve(A))).setMeta(n.H,s),!0})},f=e=>{let{cardId:t,editor:A}=e;if(!t)return;let r=(0,l.KA)();if((0,i.wC)(r.getState())===d.w.SLIDE_VIEW){A.commands.spotlightCardById(t);return}let a=document.querySelector('[data-card-id="'.concat(t,'"]'));if(!a)return;let{pos:o}=(0,h.W0)(A,t)||{};if(!o)return;let n=A.state.doc.resolve(o).depth>g.$x;v({cardId:t,pos:o,editor:A,cardEl:a,isNested:n})},C=(e,t,A)=>{let r;let a=t.target;if(a.closest(".".concat(g.p$))&&!a.closest("[data-outside-card-body]")||A&&!E(A,e.state.schema))return null;let l=a.closest(".".concat(g.QJ));if(!l)return{pos:e.state.doc.content.size-1};let o=l.querySelector(".".concat(g.p$)),n=null==o?void 0:o.getBoundingClientRect();if(!n)return null;let{doc:i}=e.state;try{let t=e.posAtDOM(l,0);if(-1===t)return null;let A=(0,s.TK)(i.resolve(t),h.jg);if(0===A.length)return null;r=A[A.length-1]}catch(e){return console.error("(caught) [checkBetweenCardsDropTarget] error finding parent node:",e),null}let{node:d,pos:u}=r;if(!u||!d)return null;let[p]=(0,c.qp)(o),m=p+n.top,x=p+n.bottom,v=p+t.clientY;return v<m?{pos:u}:v>x?{pos:u+d.nodeSize}:null},E=(e,t)=>t.nodes.card.validContent(e.content),b=(e,t)=>{let A=(0,s.GY)(e,e=>"cardLayoutItem"===e.type.name);return A.length>0?{node:A[0].node,pos:t+A[0].pos+1}:{node:e,pos:t}}},82064:(e,t,A)=>{A.d(t,{h:()=>r});let r=function(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].slice.call(e.querySelectorAll(t),0);return A&&r.reverse(),r}},96361:(e,t,A)=>{A.d(t,{N:()=>o,j:()=>l});var r=A(60443),a=A(3968);let l=e=>{var t;if(null==e?void 0:null===(t=e.parentElement)||void 0===t?void 0:t.matches("ol, ul"))return e.parentElement;let A=[e],a=e;for(;(a=a.nextElementSibling)&&"LI"===a.tagName;){let t=parseInt(a.getAttribute("indent")||"0")-parseInt(e.getAttribute("indent")||"0");if(t<0)break;if(0==t){if(a.getAttribute("variant")!=e.getAttribute("variant"))break;A.push(a)}else a=l(a),A.push(a)}let o=e.getAttribute("variant")==r.e.Numbered?document.createElement("ol"):document.createElement("ul");return e.replaceWith(o),A.forEach(e=>{e.removeAttribute("variant"),e.removeAttribute("indent")}),o.append(...A),o},o=e=>{var t,A;let l;let o=e,n=0,i="false";for(e.innerHTML.startsWith("[ ]")?(l=r.e.Todo,i="false",e.innerHTML.startsWith("[ ]  ")?e.innerHTML=e.innerHTML.slice(4):e.innerHTML=e.innerHTML.slice(3)):e.innerHTML.startsWith("[x]")&&(l=r.e.Todo,i="true",e.innerHTML.startsWith("[x]  ")?e.innerHTML=e.innerHTML.slice(4):e.innerHTML=e.innerHTML.slice(3)),"checkbox"===e.getAttribute("role")&&(l=r.e.Todo,i=e.getAttribute("aria-checked")||"false"),("todo"===e.getAttribute("variant")||e.getAttribute("checked"))&&(l=r.e.Todo,i=e.getAttribute("checked")||"false"),(0,a.r)(e);o=null===(t=e.parentElement)||void 0===t?void 0:t.closest("li, ul, ol");){if(o.matches("ul, ol")){n++;let e=o.className.match(/lst-kix_\w+-(\d+)/);e&&(n=parseInt(e[1])+1);let t=o.getAttribute("indent");t&&(n=parseInt(t,10)+1),l||"OL"!=o.tagName?l||"UL"!=o.tagName||(l=r.e.Bullet):l=r.e.Numbered}o.after(e)}e.setAttribute("indent",Math.max(n-1,0).toString()),e.setAttribute("variant",l||r.e.Bullet),l==r.e.Todo&&e.setAttribute("checked",i),1===e.children.length&&(null===(A=e.firstElementChild)||void 0===A?void 0:A.tagName)==="P"&&(e.innerHTML=e.firstElementChild.innerHTML),e.querySelectorAll('span[class^="ListLabel_"]').forEach(e=>{e.remove()})}},57215:(e,t,A)=>{A.d(t,{H:()=>l});var r=A(82064),a=A(96361);let l=e=>((0,r.h)(e,"li").forEach(e=>{(0,a.j)(e)}),e)},3968:(e,t,A)=>{A.d(t,{r:()=>E,V:()=>f});var r=A(60948),a=A(17539),l=A(82064);let o=e=>{(0,l.h)(e,"p.title").forEach(d),(0,l.h)(e,"br").forEach(c),(0,l.h)(e,"a[href]").forEach(g),(0,l.h)(e,"a[href][id]").forEach(h),(0,l.h)(e,"span").forEach(p),(0,l.h)(e,"a[href][id]").forEach(t=>x(t,e))},n=e=>{(0,l.h)(e,"h1").forEach(i),(0,l.h)(e,"li > span").forEach(s)},i=e=>{if("always"==e.style.pageBreakBefore){let t=document.createElement("hr");t.style.pageBreakBefore="always",t.classList.add("divider"),e.before(t)}},s=e=>{var t;(null===(t=e.textContent)||void 0===t?void 0:t.trim())===""&&e.remove()},c=e=>{var t;((null===(t=e.previousElementSibling)||void 0===t?void 0:t.tagName)=="P"||e.classList.contains("Apple-interchange-newline"))&&e.remove()},d=e=>{let t=document.createElement("h1");t.className="title",t.innerHTML=e.innerHTML,e.replaceWith(t)},u=/^https:\/\/docs\.google\.com\/document\/d\/[^/]+\/edit#heading=(h\.[^/]+)/,g=e=>{let t=e.getAttribute("href");if(t&&(t.startsWith("#h.")||u.test(t))){let t=e.closest("p");t&&t.textContent==e.textContent?t.remove():e.removeAttribute("href")}},h=e=>{var t,A;if(null===(t=e.getAttribute("id"))||void 0===t?void 0:t.startsWith("cmnt_ref")){let t=e.closest("sup");null==t||t.remove()}else if(null===(A=e.getAttribute("id"))||void 0===A?void 0:A.startsWith("cmnt")){let t=e.closest("div");null==t||t.remove()}},p=e=>{e.innerHTML=e.innerHTML.replace(/(&nbsp;){2,}/g,"").replace(/&nbsp;/g," ")},m=/ftnt_ref(\d+)/,x=(e,t)=>{let A=e.getAttribute("id");if(A&&A.startsWith("ftnt_ref")){var r;let a=parseInt((null===(r=A.match(m))||void 0===r?void 0:r[1])||""),l=e.closest("sup"),o=t.querySelector("#ftnt".concat(a)),n=null==o?void 0:o.closest("div");if(!a||!l||!n)return;null==o||o.remove();let i=document.createElement("div");i.className="imported-footnote",i.appendChild(n),l.replaceWith(i)}};var v=A(96361);let f=e=>{try{let t=new DOMParser().parseFromString(e,"text/html");return(0,l.h)(t,C).forEach(E),(0,l.h)(t,"li",!0).forEach(v.N),(0,l.h)(t,"img").forEach(b),(0,l.h)(t,"img").forEach(I),(0,l.h)(t,"script, style").forEach(e=>e.remove()),n(t),o(t),(0,l.h)(t,"p").forEach(y),t.body.innerHTML}catch(t){return console.error("Error transforming pasted HTML",t),e}},C="p, h1, h2, h3, h4, h5, h6",E=e=>{e.querySelectorAll(C).forEach(e=>{if(e.tagName.match(/H\d/)){let t=document.createElement("b");t.innerHTML=e.innerHTML,e.replaceWith(t)}e.replaceWith(...e.childNodes)})},b=e=>{let t=e.closest("p, h1, h2, h3, h4, h5, h6, ul, ol, li");t&&t.after(e)},y=e=>{if((0,r.qQ)(e)){var t;(null===(t=e.parentElement)||void 0===t?void 0:t.childElementCount)!==1&&e.remove()}},I=e=>{if(e.src){if(e.src.startsWith("data:")){let t=(0,a.Xz)(e.src),A=URL.createObjectURL(t);e.src=A}else e.src.startsWith("blob:")||e.src.startsWith("http")||e.remove()}}},60948:(e,t,A)=>{A.d(t,{$R:()=>i,qQ:()=>n,t8:()=>l});var r=A(69e3),a=A(57215);let l=(e,t,A)=>{null!=A||(A=r.ZF.fromSchema(t));let l=A.serializeFragment(e);return(0,a.H)(l)},o=["img"],n=e=>{var t;return!e.hasChildNodes()||!((null===(t=e.textContent)||void 0===t?void 0:t.trim())!=""||o.includes(e.nodeName))&&[...e.childNodes].every(e=>n(e))},i=(e,t,A)=>{let r=l(e,t,A),a=document.createElement("div");return a.appendChild(r),a.innerHTML}},60443:(e,t,A)=>{A.d(t,{e:()=>r,x:()=>a});var r=function(e){return e.Todo="todo",e.Bullet="bullet",e.Numbered="numbered",e}({});let a=e=>["todo","bullet","numbered"].includes(e.type.name)}}]);
//# sourceMappingURL=6889-96e02efb0dff84f0.js.map