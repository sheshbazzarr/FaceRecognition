"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9480],{85401:(e,n,i)=>{i.d(n,{G:()=>a});var t=i(14041),r=i(73893),d=i(10458),u=i(7441);let a=()=>{let e=(0,t.useRef)(!1),n=(0,t.useRef)(new Map);(0,t.useEffect)(()=>{if("production"!==r.$.APPLICATION_ENVIRONMENT)return;let i=()=>{if(e.current)return;let i=n.current.get("total"),t=n.current.get("notTrusted");t/i>.5&&i>5&&(e.current=!0,u.z.track(d.ng.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:i,notTrustedEvents:t}))},t=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),i()};return document.addEventListener("paste",t,{capture:!0}),document.addEventListener("mousedown",t,{capture:!0}),document.addEventListener("keydown",t,{capture:!0}),()=>{document.removeEventListener("paste",t,{capture:!0}),document.removeEventListener("mousedown",t,{capture:!0}),document.removeEventListener("keydown",t,{capture:!0})}},[])}},88304:(e,n,i)=>{i.d(n,{D:()=>u});var t=i(44507),r=i(92667),d=i(30503);let u=()=>{let e=!(0,t.rA)()&&!(0,d.NF)();return(0,r.WM)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},42457:(e,n,i)=>{i.d(n,{Z:()=>m});var t=i(31085),r=i(93722),d=i(78458),u=i(95986),a=i(14041),l=i(65998),o=i(42948),s=i(83073),c=i(14729);let p=(e,n)=>{if(e.globalToast)return;let i=(0,c.J)({theme:n});e.globalToast=i},m=e=>{let{children:n}=e,i=(0,s.O)(),c=o.zd[i],m=(null==c?void 0:c.rtl)===!0?"rtl":"ltr",v=(0,l.u)("gammaRebrand"),g=(0,a.useMemo)(()=>(0,r.oY)(v?u.TM:u.t1,{direction:m,styles:{global:{".ProseMirror":{outline:"0 none"}}}}),[m,v]);return(0,a.useEffect)(()=>{p(window,g)},[]),(0,t.jsx)(d.s,{theme:g,resetCSS:!0,children:n})}},26253:(e,n,i)=>{i.d(n,{XE:()=>b,zE:()=>I,yf:()=>E});var t=i(14041),r=i(73893),d=i(79430),u=i(65998),a=i(83073),l=i(43006),o=i(78821),s=i(10458),c=i(57882),p=i(44507),m=i(59591),v=i(30503),g=i(12327),_=i(56005),R=i.n(_),f=i(39286);let y=(e,n)=>{let i=R()(n);return{[e]:{next:g.Ru._({id:"hXzOVo"}),back:g.Ru._({id:"iH8pgl"}),nevermind:g.Ru._({id:"CKyk7Q"}),goToAccount:g.Ru._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:f.On}}),getHelp:g.Ru._({id:"pWsyuL"}),declineOffer:g.Ru._({id:"aIFikE"}),confirmAndCancel:g.Ru._({id:"G9nPRC"}),pauseSubscription:g.Ru._({id:"2RgEmU"}),cancelSubscription:g.Ru._({id:"dEgA5A"}),discountSubscription:g.Ru._({id:"qG4Wa/"}),claimOffer:g.Ru._({id:"/Gl/RK"}),discountOff:g.Ru._({id:"Bdtwnw"}),discountFor:g.Ru._({id:"sQv06Y"}),discountForever:g.Ru._({id:"FsOOWf"}),discountOneTime:g.Ru._({id:"HpXCa4"}),day:g.Ru._({id:"5YWExy"}),month:g.Ru._({id:"obrMay"}),year:g.Ru._({id:"/Tw548"}),error:g.Ru._({id:"wTrpxV"}),genericErrorDescription:g.Ru._({id:"PUjJ3A"}),cancelNow:g.Ru._({id:"EiakwV"}),applyingDiscount:g.Ru._({id:"8kSYjw"}),applyingCancel:g.Ru._({id:"VpuvNv"}),applyingResume:g.Ru._({id:"eIoGiX"}),applyingPause:g.Ru._({id:"UD7gOq"}),discountApplied:g.Ru._({id:"jdYyiz"}),discountAppliedMessage:g.Ru._({id:"DhHX6G"}),pauseApplied:g.Ru._({id:"eeITvj"}),pauseAppliedMessage:g.Ru._({id:"nm0VaE"}),pauseAppliedResumeMessage:g.Ru._({id:"qOe0SS"}),pauseScheduledMessage:g.Ru._({id:"mqRc6d"}),until:g.Ru._({id:"C51N+0"}),cancelApplied:g.Ru._({id:"Wcg6zu"}),cancelAppliedMessage:g.Ru._({id:"8vN97Y"}),cancelAppliedDateMessage:g.Ru._({id:"BS/SGu"}),howLongToPausePrompt:g.Ru._({id:"HLyJ9n"}),whatCouldWeHaveDone:g.Ru._({id:"fcbm8H"}),weReadEveryAnswer:g.Ru._({id:"nkuKRd"}),applyingCustomerAction:g.Ru._({id:"PXwF+s"}),loading:g.Ru._({id:"Z3FXyt"}),pauseWallCardPunch:g.Ru._({id:"iL2TQ6"}),pauseWallCta:g.Ru._({id:"TvXj47"}),pauseWallCardHeading:g.Ru._({id:"kHm8Fg"}),scheduledToReactivate:g.Ru._({id:"aH7vi8"}),resumeApplied:g.Ru._({id:"diOgYK"}),resumeAppliedMessage:g.Ru._({id:"YqFvUY"}),resumeNextChargeMessage:g.Ru._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:g.Ru._({id:"RrvVAn"}),resumeAccountDataInfo:g.Ru._({id:"dJCJXA"}),subscriptionPauseNotice:g.Ru._({id:"fpxliT"}),failedPaymentNotice:g.Ru._({id:"Vxg5vO"}),chargedMultipleTimeNotice:g.Ru._({id:"lAlv46"}),failedPaymentCardPunch:g.Ru._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:f.On,productName:i}}),resumeHey:g.Ru._({id:"hdOctW"}),invoicePaidTitle:g.Ru._({id:"aJGfDL"}),logout:g.Ru._({id:"W+3RJN"}),note:g.Ru._({id:"ycCSuD"}),discount:g.Ru._({id:"HmpVeZ"}),discountNoticeHeadline:g.Ru._({id:"5P1dmt"}),discountNoticePrepend:g.Ru._({id:"yjadEY"}),discountOverride:g.Ru._({id:"JfBDWL"}),discountValidUntil:g.Ru._({id:"uXxNua"}),updateBilling:g.Ru._({id:"tQilrI"}),extendTrialCTA:g.Ru._({id:"m3l7VI"}),extendTrialPunch:g.Ru._({id:"s5pINo"}),extendTrialOfferTitle:g.Ru._({id:"SyzXYh"}),trialExtended:g.Ru._({id:"fezME2"}),trialExtendedMessage:g.Ru._({id:"QE4mUs"}),applyingTrialExtension:g.Ru._({id:"vI2q9R"}),switchPlanCTA:g.Ru._({id:"P2mx2L"}),changePlanHighlights:g.Ru._({id:"qbgW+C"}),changePlanOfferPunch:g.Ru._({id:"MRkiFP"}),planChanged:g.Ru._({id:"ByFtyh"}),planChangedMessage:g.Ru._({id:"Pf5z1G"}),applyingPlanChange:g.Ru._({id:"9vKKLI"}),surveyStepTag:g.Ru._({id:"cSUBI1"}),freeFormStepTag:g.Ru._({id:"cSUBI1"}),finalConfirmation:g.Ru._({id:"1/oP/N"}),offerDiscountTag:g.Ru._({id:"LTgtxG"}),offerChangePlanTag:g.Ru._({id:"ENMJv2"}),offerExtendTrialTag:g.Ru._({id:"MWKntz"}),offerRedirectTag:g.Ru._({id:"cvpAvL"}),offerContactTag:g.Ru._({id:"cvpAvL"}),offerPauseTag:g.Ru._({id:"+T6DGl"}),completeTag:g.Ru._({id:"K5c1e7"}),errorTag:g.Ru._({id:"EuvbIW"}),offerAccepted:g.Ru._({id:"ZU0opP"})}}},C="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(r.$.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),b=()=>{let e=!(0,p.rA)()&&!(0,v.NF)();return(0,m.W)(e,C),null},E=e=>{var n;let{subscription:i,workspace:s,autoLaunch:p=!0}=e,{user:m}=(0,c.ur)(),v=(0,u.u)("churnkeyFailedPaymentWallEnabled"),g=(0,a.O)(),_=(0,o.A4)(s),R=(0,l.k)(),f=v&&(null==m?void 0:m.id)===(null==i?void 0:null===(n=i.createdByUser)||void 0===n?void 0:n.id),y=(0,t.useCallback)(async()=>{if(i&&_&&f)return(0,d.yg)("churnkey").then(e=>{var n,t;if(!e||!i.billingSubscriptionId||!(null===(n=i.createdByUser)||void 0===n?void 0:n.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:i});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:r.$.CHURNKEY_APP_ID,subscriptionId:i.billingSubscriptionId,customerId:null===(t=i.createdByUser)||void 0===t?void 0:t.billingCustomerId}),h({authHash:e,subscription:i,localeKey:g,productKey:_,launchIntercomUI:R})})},[i,_,f,g,R]);return(0,t.useEffect)(()=>{p&&y()},[y,p]),{launchFailedPaymentFlow:y,failedPaymentFlowEnabled:f}},h=async e=>{var n,i;let{authHash:t,subscription:d,localeKey:u,productKey:a,launchIntercomUI:l}=e;null===(i=window.churnkey)||void 0===i||i.check("failed-payment",{subscriptionId:d.billingSubscriptionId,customerId:null===(n=d.createdByUser)||void 0===n?void 0:n.billingCustomerId,authHash:t,customerAttributes:{language:u},i18n:{lang:u,messages:y(u,a)},appId:r.$.CHURNKEY_APP_ID,mode:r.$.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;l(),s.zS.track(s.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:d.billingSubscriptionId,customerId:null===(e=d.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var n,i;return s.zS.track(s.VV.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:d.billingSubscriptionId,customerId:null===(n=d.createdByUser)||void 0===n?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:d.billingSubscriptionId,customerId:null===(i=d.createdByUser)||void 0===i?void 0:i.billingCustomerId,customer:e}),w({authHash:t,subscription:d,localeKey:u,productKey:a,launchIntercomUI:l,customerAttributes:{viaFailedPayment:!0}}).catch(e=>h({authHash:t,subscription:d,localeKey:u,productKey:a,launchIntercomUI:l}))},onFailedPaymentWallActivated(){var e;s.zS.track(s.VV.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:d.billingSubscriptionId,customerId:null===(e=d.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;s.zS.track(s.VV.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:d.billingSubscriptionId,customerId:null===(e=d.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;s.zS.track(s.VV.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:d.billingSubscriptionId,customerId:null===(e=d.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;s.zS.track(s.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:d.billingSubscriptionId,customerId:null===(e=d.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},I=(e,n)=>{let i=(0,u.u)("churnkeyCancelFlowEnabled"),r=(0,a.O)(),s=(0,o.A4)(n),c=(0,l.k)();return{launchCancelFlow:(0,t.useCallback)(()=>{if(e&&s&&i)return(0,d.yg)("churnkey").then(n=>{var i;if(!n||!e.billingSubscriptionId||!(null===(i=e.createdByUser)||void 0===i?void 0:i.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e});return}return w({authHash:n,subscription:e,localeKey:r,productKey:s,launchIntercomUI:c})})},[i,r,s,e,c]),cancelFlowEnabled:i}},w=async e=>{let{authHash:n,subscription:i,localeKey:t,productKey:d,customerAttributes:u={},launchIntercomUI:a}=e;return new Promise((e,l)=>{var c,p,m;null===(m=window.churnkey)||void 0===m||m.init("show",{subscriptionId:i.billingSubscriptionId,customerId:null===(c=i.createdByUser)||void 0===c?void 0:c.billingCustomerId,authHash:n,customerAttributes:{language:t,frequency:null===(p=(0,o.ZJ)(i))||void 0===p?void 0:p.frequencyUnit,productKey:d,...u},i18n:{lang:t,messages:y(t,d)},appId:r.$.CHURNKEY_APP_ID,mode:r.$.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;a(),s.zS.track(s.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(e=i.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,n,t){var r;s.zS.track(s.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(r=i.createdByUser)||void 0===r?void 0:r.billingCustomerId,surveyResponse:n,freeformFeedback:t}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:t})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted){l("Churnkey cancel flow aborted");return}e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),l({message:e})}})})}},98692:(e,n,i)=>{i.d(n,{Z:()=>u});var t=i(14041),r=i(83073),d=i(64130);let u=()=>{let e=(0,r.O)();(0,t.useEffect)(()=>{let n=(0,d.D8)(e);document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir",n?"rtl":"ltr")},[e])}},20879:(e,n,i)=>{i.d(n,{FM:()=>m,Ts:()=>t.T});var t=i(27655),r=i(31085),d=i(73893),u=i(33854),a=i(64225),l=i(44507),o=i(92667),s=i(30503),c=i(39698);let p="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(d.$.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),m=()=>{let e=!(0,u.u)("zendesk")&&!(0,l.rA)()&&!(0,s.NF)();(0,o.WM)(e,p);let n=(0,a.GV)(c.w8);return(0,o.En)()&&e?(0,r.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(n?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(n?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},9067:(e,n,i)=>{i.d(n,{K:()=>R});var t=i(31085),r=i(55276),d=i(14041),u=i(55640),a=i(26253),l=i(65998),o=i(83479),s=i(50923),c=i(30358),p=i(92405),m=i(8917),v=i(78821),g=i(68984);let _="get-gamma-pro",R=e=>{var n,i;let{children:R}=e,{currentWorkspace:f,isUserLoading:y}=(0,c.ur)(),[C,b]=(0,d.useState)(!1),E=(0,s.st)(),h=(0,l.u)("upsellUXEnabled_Pro"),{data:I,refetch:w}=(0,u.wJf)({variables:{workspaceId:null==f?void 0:f.id,includeExpired:!0},skip:!(null==f?void 0:f.id)}),P=null==I?void 0:I.subscription;(0,a.yf)({subscription:P,workspace:f,autoLaunch:!0});let{data:T}=(0,u.sdf)({variables:{workspaceId:null==f?void 0:f.id},skip:!f}),k=null==T?void 0:null===(n=T.products)||void 0===n?void 0:n.find(e=>"pro"===e.key),A=null==k?void 0:null===(i=k.prices)||void 0===i?void 0:i.find(e=>e.frequencyUnit===u.Vd7.Year),N=(0,v.A4)(f),{isOpen:S,onOpen:U,onClose:O}=(0,r.j)({id:"upsell-modal"}),M=(0,d.useRef)(null),L=(0,d.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:i,insufficientCreditsWarning:t,segmentEvent:r,eventProperties:d}=e;h&&(b(!!t),null==n||n(),U(),null==E||E.track(r,d),M.current=i||null)},[E,U,h]),F=(0,d.useCallback)(()=>{var e;null==M||null===(e=M.current)||void 0===e||e.call(M),O(),M.current=null,b(!1)},[O]),[H,D]=(0,d.useState)({openUpsellModal:L,product:N,subscription:P,proYearlyProductPrice:A});return(0,d.useEffect)(()=>{"true"!==(0,p.sF)()[_]||y||!f||(U(),(0,o.g5)({query:{...(0,p.sF)(),[_]:void 0},emitChange:!1}))},[U,f,y]),(0,d.useEffect)(()=>{D({openUpsellModal:L,refetchSubscription:w,product:N,subscription:P,proYearlyProductPrice:A})},[L,N,P,A,w]),(0,t.jsxs)(g.H.Provider,{value:H,children:[R,S&&(0,t.jsx)(m.I,{insufficientCreditsWarning:C,isUpsellModalOpen:S,closeUpsellModal:F}),(0,t.jsx)(a.XE,{})]})}},39236:(e,n,i)=>{i.d(n,{I:()=>s});var t=i(31085),r=i(66996),d=i.n(r),u=i(65998),a=i(44507),l=i(92667),o=i(30503);let s=()=>{let e=(0,u.u)("zendesk")&&!(0,a.rA)()&&!(0,o.NF)();return(0,l.En)()&&e?(0,t.jsx)(d(),{id:"ze-snippet",src:"https://static.zdassets.com/ekr/snippet.js?key=a0bef73f-af13-4ae9-ad67-25e2355724db",async:!0,defer:!0}):null}}}]);
//# sourceMappingURL=9480-119c2939a99f1ebf.js.map