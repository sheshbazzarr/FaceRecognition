"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2872],{27732:(e,i,n)=>{n.d(i,{n:()=>L,j:()=>M});var s=n(31085),t=n(40173),l=n(25420),a=n(35687),r=n(61778),o=n(80853),d=n(94259),c=n(20501),x=n(24221),u=n(14041),j=n(44507),h=n(22544),m=n(92667),p=n(86724),b=n(30503),g=n(69086),v=n(52177),f=n(65998),y=n(92405),C=n(39286),E=n(3706),w=n(77563),S=n(20728),k=n(26253),I=n(14979),A=n(10458),T=n(57882),O=n(10628),_=n(88679),R=n(31941),N=n(14691);let D=[{Component:()=>{let e=(0,f.u)("outageButterbar");if(!e.enabled)return null;let{header:i,text:n,buttonLink:t,buttonText:l,key:a,pathnameRegexp:r}=e;return(0,s.jsx)(M,{definition:{key:a,header:i,text:n,buttonText:l,buttonLink:t,conditions:()=>!r||null!==window.location.pathname.match(new RegExp(r))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,f.u)("openAiStatus")?null:(0,s.jsx)(M,{definition:{key:"ai-service-status",header:(0,s.jsx)(v.x6,{id:"1Agl06"}),text:(0,s.jsx)(v.x6,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,y.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,i,n;let{user:t,currentWorkspace:l}=(0,T.ur)(),{subscription:a,product:r}=(0,O.I)(),{launchFailedPaymentFlow:o,failedPaymentFlowEnabled:d}=(0,k.yf)({subscription:a,workspace:l,autoLaunch:!1});if(!a||!r)return null;let{name:c,dontChurnMessage:x}=(0,_.Ok)()[r],{status:u,expirationTime:j,id:h}=a,m=(0,I.Yq)(j,"MMMM do, yyyy"),p=(null==a?void 0:null===(e=a.createdByUser)||void 0===e?void 0:e.id)===(null==t?void 0:t.id),b=(0,R.AY)(),g=j>Date.now();if(!("unpaid"===u||"past_due"===u)&&!g)return null;let f=b&&(p||!(null==a?void 0:a.createdByUser))?(0,s.jsx)(v.x6,{id:"velw1T",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:C.On,productName:c},components:{0:(0,s.jsx)(E.N,{href:d?void 0:b,onClick:d?o:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,s.jsx)(v.x6,{id:"9aBOfk",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:C.On,productName:c,0:null===(i=a.createdByUser)||void 0===i?void 0:i.displayName,1:null===(n=a.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}});return(0,s.jsx)(M,{definition:{key:"payment-overdue-".concat(h),header:(0,s.jsx)(v.x6,{id:"gosJne",values:{productName:c}}),text:(0,s.jsxs)(s.Fragment,{children:[x," ",f]}),buttonText:(0,s.jsx)(v.x6,{id:"WLvqZR"}),buttonLink:d?void 0:b,buttonOnClick:d?o:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:i}=(0,O.I)();if(!e)return null;let{status:n,expirationTime:t,id:l}=e;if(!(new Date>(0,w.A)(t)&&new Date<(0,S.A)((0,w.A)(t),{days:10})))return null;let a=()=>i({segmentEvent:A.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),r=(0,s.jsx)(E.N,{onClick:a,isExternal:!0,textDecoration:"underline",children:(0,s.jsx)(v.x6,{id:"mj68q/"})});return(0,s.jsx)(M,{definition:{key:"subscription-expired-".concat(l),header:(0,s.jsx)(v.x6,{id:"5nhH6A"}),text:(0,s.jsxs)(s.Fragment,{children:["unpaid"===n||"past_due"===n?(0,s.jsx)(v.x6,{id:"QdgXJv"}):""," ",r]}),buttonText:(0,s.jsx)(v.x6,{id:"kwkhPe"}),buttonOnClick:a}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,i,n;let{user:t}=(0,T.ur)(),{subscription:l,product:a}=(0,O.I)();if(!l||!a)return null;let{status:r,expirationTime:o,id:d,cancellationRequestedTime:c}=l;if(!("canceled"!=r&&c&&new Date<(0,w.A)(o)&&new Date>(0,S.A)((0,w.A)(o),{days:-7})))return null;let x=(null==l?void 0:null===(e=l.createdByUser)||void 0===e?void 0:e.id)===(null==t?void 0:t.id),u=(0,R.AY)(),j=(0,I.Yq)(o,"MMMM do, yyyy"),{name:h,dontChurnMessage:m}=(0,_.Ok)()[a],p=!x&&(null==l?void 0:l.createdByUser)?(0,s.jsx)(v.x6,{id:"z4DeyC",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:C.On,productName:h,0:null===(i=l.createdByUser)||void 0===i?void 0:i.displayName,1:null===(n=l.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}}):(0,s.jsx)(v.x6,{id:"qP91+f",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:C.On,productName:h},components:{0:(0,s.jsx)(E.N,{href:u,isExternal:!0,textDecoration:"underline"})}});return(0,s.jsx)(M,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,s.jsx)(v.x6,{id:"THJAvC",values:{productName:h}}),text:(0,s.jsxs)(s.Fragment,{children:[m," ",p]}),buttonText:(0,s.jsx)(v.x6,{id:"3jHA5d"}),buttonLink:u}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,s.jsx)(v.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:C.On}}),text:(0,s.jsx)(v.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:C.On}}),conditions:()=>(0,j.Pg)(),dismissKey:N.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,s.jsx)(v.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:C.On}}),text:(0,s.jsx)(v.x6,{id:"Tf7VpJ"}),conditions:()=>z()&&(0,j.bh)(),dismissKey:N.E.lastDismissedPreferredBrowserMessage}],z=()=>(0,j.z3)()||!(0,j.H8)()&&!(0,j.nr)()&&!(0,j.yE)(),L=e=>{let{isViewOnly:i}=e,n=(0,m.En)();if(i||!n||(0,j.rA)()||h.D1||(0,b.NF)())return null;let a=D.map(e=>"Component"in e?(0,s.jsx)(e.Component,{},e.key):(0,s.jsx)(M,{definition:e},e.key));return(0,s.jsx)(t.Z,{children:(0,s.jsx)(l.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:a})})},M=e=>{let{definition:i}=e,{key:n,dismissKey:t="butterbar-dismiss-".concat(n),header:j,text:h,buttonText:m,buttonLink:b,buttonOnClick:v=b?()=>window.open(b,"_blank"):void 0,conditions:f,ttl:y}=i,[C,E]=(0,p.M)(t,!1);if((0,u.useEffect)(()=>{y&&C&&new Date().getTime()-new Date(C).getTime()>1e3*y&&g.x.removeItem(t)},[t,C,y]),f&&!f()||C)return null;let w=m&&v;return(0,s.jsxs)(l.s,{bg:"indigo.500",color:"white",py:3,px:4,fontSize:"sm",borderRadius:"lg",gap:4,position:"fixed",left:"50%",transform:"translateX(-50%)",shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},direction:{base:"column",lg:"row"},children:[(0,s.jsxs)(a.B,{spacing:0,flex:1,pr:{base:12,lg:0},children:[(0,s.jsx)(r.E,{fontWeight:"bold",children:j}),(0,s.jsx)(r.E,{opacity:"0.7",fontSize:"xs",children:h})]}),w&&(0,s.jsx)(o.$,{flexShrink:0,variant:"plain",size:"sm",rightIcon:b?(0,s.jsx)(x.g,{icon:c.Ju_}):void 0,onClick:v,children:m}),(0,s.jsx)(l.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},right:4,top:4,children:(0,s.jsx)(d.J,{colorScheme:"whiteAlpha",size:"sm",onClick:()=>{E(String(new Date))}})})]})}},14979:(e,i,n)=>{n.d(i,{Bo:()=>E,Gx:()=>C,R6:()=>f,Yq:()=>y,ak:()=>w});var s=n(12327),t=n(66820),l=n(77563),a=n(48736),r=n(75815),o=n(91142),d=n(49423),c=n(39643),x=n(59524),u=n(8808),j=n(96950),h=n(18176),m=n(14905),p=n(16753),b=n(38345),g=n(41103);let v={ar:d.A,en:c.A,fa:x.A,"pt-br":u.A,ja:j.A,"zh-cn":h.A,"zh-tw":m.A,es:p.A,fr:b.A,ko:g.A},f=()=>v[s.Ru.locale]||void 0,y=(e,i)=>e?(0,t.A)((0,l.A)(e),i,{locale:f()}):"",C=(e,i)=>e?(0,a.A)((0,l.A)(e),i?(0,l.A)(i):new Date,{locale:f()}):"",E=e=>e?(0,r.A)((0,l.A)(e),{locale:f()}):"",w=e=>e?(0,o.A)((0,l.A)(e),new Date,{locale:f(),addSuffix:!0,roundingMethod:"floor"}):""},43854:(e,i,n)=>{n.d(i,{P:()=>es});var s=n(31085),t=n(97482),l=n(61778),a=n(82680),r=n(74727),o=n(80853),d=n(35687),c=n(2219),x=n(25420),u=n(55276),j=n(18588),h=n(59742),m=n(18651),p=n(52177),b=n(12327),g=n(14041),v=n(50877),f=n(69087),y=n(10458),C=n(57882),E=n(18667),w=n(44507),S=n(80532),k=n(18201),I=n(15672),A=n(76003),T=n(3040),O=n(24221);let _=(0,g.memo)(e=>{let{isSelected:i,onClick:n,description:t,label:a,emoji:r}=e;return(0,s.jsxs)(x.s,{display:"flex","data-custom-checkbox":!0,flexDirection:"row",alignItems:"center",gridColumnGap:4,bg:"gray.50",border:"1px solid",borderColor:"gray.200",rounded:"lg",py:3,w:"100%",cursor:"pointer",...i&&{bg:"trueblue.50",borderColor:"trueblue.500"},_focusWithin:{boxShadow:"outline"},onClick:n,children:[(0,s.jsx)("input",{type:"checkbox",style:{appearance:"none",width:"0px"}}),(0,s.jsxs)(d.B,{direction:"row",alignItems:"center",spacing:3,children:[(0,s.jsx)(S.az,{children:r}),(0,s.jsxs)(d.B,{direction:"column",spacing:0,children:[(0,s.jsx)(l.E,{color:"gray.900",fontSize:"sm",fontWeight:"500",children:a}),t&&(0,s.jsx)(l.E,{color:"gray.700",fontSize:"xs",children:t})]})]}),(0,s.jsx)(k.h,{}),(0,s.jsx)(x.s,{mr:4,alignItems:"center",justifyContent:"center",w:5,h:5,border:"1px solid",borderRadius:"sm",p:2,borderColor:i?"trueblue.500":"gray.500",color:"trueblue.500",children:i&&(0,s.jsx)(O.g,{icon:T.e68,fixedWidth:!0,size:"sm"})})]})});_.displayName="CustomCheckbox";let R=(0,g.memo)(e=>{let{options:i,selectedOptions:n,onOptionClick:t,...l}=e;return(0,s.jsx)(I.r,{columns:{base:1,md:i.length>10?2:1},spacing:2,...l,children:i.map(e=>(0,s.jsx)(A.E,{children:(0,s.jsx)(_,{isSelected:n.has(e.value),onClick:()=>t(e.value),label:e.label,emoji:e.emoji,description:e.description})},e.value))})});R.displayName="CustomCheckboxGroup";let N={work:{label:(0,s.jsx)(p.x6,{id:"rgBHdd"}),emoji:"\uD83D\uDCBC"},personal:{label:(0,s.jsx)(p.x6,{id:"jo0oU2"}),emoji:"\uD83D\uDDA5️"},education:{label:(0,s.jsx)(p.x6,{id:"ujXpH6"}),description:(0,s.jsx)(p.x6,{id:"1TKFbA"}),emoji:"\uD83D\uDCD3"}},D={consulting:{label:(0,s.jsx)(p.x6,{id:"m5xed+"}),emoji:"\uD83D\uDCBC"},creator:{label:(0,s.jsx)(p.x6,{id:"UE2beD"}),emoji:"\uD83C\uDFA8"},customer_service:{label:(0,s.jsx)(p.x6,{id:"FfYIy2"}),emoji:"\uD83E\uDDD1‍\uD83D\uDCBB"},data:{label:(0,s.jsx)(p.x6,{id:"HKH+W+"}),emoji:"\uD83D\uDCCA"},design:{label:(0,s.jsx)(p.x6,{id:"f8fH8W"}),emoji:"\uD83C\uDFA8"},engineering:{label:(0,s.jsx)(p.x6,{id:"SUXBxp"}),emoji:"\uD83D\uDD27"},finance:{label:(0,s.jsx)(p.x6,{id:"8V6XO3"}),emoji:"\uD83D\uDCB0"},human_resources:{label:(0,s.jsx)(p.x6,{id:"aDLrMs"}),emoji:"\uD83D\uDC65"},leadership:{label:(0,s.jsx)(p.x6,{id:"HyFz7F"}),emoji:"\uD83D\uDC51"},legal:{label:(0,s.jsx)(p.x6,{id:"vifyyw"}),emoji:"⚖️"},marketing:{label:(0,s.jsx)(p.x6,{id:"vo2a+a"}),emoji:"\uD83D\uDCE2"},operations:{label:(0,s.jsx)(p.x6,{id:"B1MDds"}),emoji:"\uD83D\uDEE0️"},product:{label:(0,s.jsx)(p.x6,{id:"K47k8R"}),emoji:"\uD83E\uDDED"},recruiting:{label:(0,s.jsx)(p.x6,{id:"bn0SqF"}),emoji:"\uD83D\uDC65"},sales:{label:(0,s.jsx)(p.x6,{id:"mUv9U4"}),emoji:"\uD83D\uDCB0"},other:{label:(0,s.jsx)(p.x6,{id:"/IX/7x"}),emoji:"\uD83E\uDD37‍♂️"}},z={education_teacher_primary:{label:(0,s.jsx)(p.x6,{id:"E9Enkr"}),emoji:"\uD83D\uDCD3"},education_teacher_university:{label:(0,s.jsx)(p.x6,{id:"Y0d1xy"}),emoji:"\uD83C\uDF93"},education_teacher_professional:{label:(0,s.jsx)(p.x6,{id:"xBtcNM"}),emoji:"\uD83D\uDDA5️"},education_teacher_other:{label:(0,s.jsx)(p.x6,{id:"/IX/7x"}),emoji:"\uD83D\uDCDA"}},L={education_student_secondary:{label:(0,s.jsx)(p.x6,{id:"6nGHR0"}),emoji:"\uD83C\uDFEB"},education_student_university:{label:(0,s.jsx)(p.x6,{id:"ii8RYl"}),emoji:"\uD83D\uDCD6"},education_student_graduate:{label:(0,s.jsx)(p.x6,{id:"jmrwEb"}),emoji:"\uD83C\uDF93"},education_student_professional:{label:(0,s.jsx)(p.x6,{id:"LiU0pT"}),emoji:"⏱️"},education_student_other:{label:(0,s.jsx)(p.x6,{id:"/IX/7x"}),emoji:"\uD83D\uDCDA"}},M={work:{...D},personal:{...D},educator:{...z},student:{...L}},F={presentationsFromScratch:{label:(0,s.jsx)(p.x6,{id:"nFPPaU"}),description:(0,s.jsx)(p.x6,{id:"fesqBK"}),emoji:"\uD83D\uDDA5️"},presentationsFromNotes:{label:(0,s.jsx)(p.x6,{id:"BWvV6s"}),emoji:"\uD83D\uDCDD"},enhancePptOrPdf:{label:(0,s.jsx)(p.x6,{id:"uMITH7"}),emoji:"\uD83D\uDD04"},websites:{label:(0,s.jsx)(p.x6,{id:"r/PUMj"}),description:(0,s.jsx)(p.x6,{id:"+hF+o8"}),emoji:"\uD83D\uDCBB"},socialMedia:{label:(0,s.jsx)(p.x6,{id:"MVd2N+"}),description:(0,s.jsx)(p.x6,{id:"//qAbl"}),emoji:"\uD83D\uDCF1"},aiImages:{label:(0,s.jsx)(p.x6,{id:"Ntbm4a"}),emoji:"\uD83C\uDFA8"},notSure:{label:(0,s.jsx)(p.x6,{id:"zT60IT"}),emoji:"\uD83E\uDD14️"}},B={friend:{label:(0,s.jsx)(p.x6,{id:"Gw0M4G"}),emoji:"\uD83D\uDC65"},internet:{label:(0,s.jsx)(p.x6,{id:"mRh0Qq"}),emoji:"\uD83C\uDF10"},search:{label:(0,s.jsx)(p.x6,{id:"z4/LHW"}),emoji:"\uD83D\uDD0D"},tiktok:{label:(0,s.jsx)(p.x6,{id:"zyUxcw"}),emoji:"\uD83C\uDFA5"},instagram:{label:(0,s.jsx)(p.x6,{id:"zzlbbf"}),emoji:"\uD83D\uDCF8"},youtube:{label:(0,s.jsx)(p.x6,{id:"9Q6UKX"}),emoji:"\uD83C\uDFA5"},linkedin:{label:(0,s.jsx)(p.x6,{id:"gggTBm"}),emoji:"\uD83D\uDCBC"},other:{label:(0,s.jsx)(p.x6,{id:"/IX/7x"}),emoji:"⌨️"}},U={src:"/_next/static/media/fa-gifts.95158335.svg"},P={src:"/_next/static/media/fa-lightbulb-on.610ec7f1.svg"},H={src:"/_next/static/media/fa-megaphone.98d9ce74.svg"},W=(0,g.memo)(e=>{let{isSelected:i,onClick:n,description:t,label:a,emoji:r}=e;return(0,s.jsxs)(x.s,{display:"flex","data-custom-radio":!0,flexDirection:"row",alignItems:"center",gridColumnGap:4,bg:"gray.50",border:"1px solid",borderColor:"gray.200",rounded:"lg",py:3,w:"100%",cursor:"pointer",...i&&{bg:"trueblue.50",borderColor:"trueblue.500"},_focusWithin:{boxShadow:"outline"},onClick:n,children:[(0,s.jsx)("input",{type:"radio",style:{appearance:"none",width:"0px"}}),(0,s.jsxs)(d.B,{direction:"row",alignItems:"center",spacing:3,children:[(0,s.jsx)(S.az,{children:r}),(0,s.jsxs)(d.B,{direction:"column",spacing:0,children:[(0,s.jsx)(l.E,{color:"gray.900",fontSize:"sm",fontWeight:"500",children:a}),t&&(0,s.jsx)(l.E,{color:"gray.700",fontSize:"xs",children:t})]})]})]})});W.displayName="CustomRadioButton";let G=(0,g.memo)(e=>{let{options:i,selectedOption:n,onOptionClick:t,...l}=e;return(0,s.jsx)(I.r,{columns:{base:1,md:i.length>10?2:1},spacing:2,...l,children:i.map(e=>(0,s.jsx)(A.E,{children:(0,s.jsx)(W,{isSelected:n===e.value,onClick:()=>t(e.value),label:e.label,emoji:e.emoji,description:e.description})},e.value))})});G.displayName="CustomRadioButtonGroup";var Q=n(9021),V=n(34363),Y=n(18658),K=n(20501);let X={position:"sticky",bottom:0,bg:"white"},$=(0,g.memo)(e=>{let{onPreviousClick:i,onNextClick:n,isNextDisabled:t,isNextLoading:l,nextButtonLabel:r=(0,s.jsx)(p.x6,{id:"xGVfLh"}),nextButtonIcon:d=(0,s.jsx)(O.g,{icon:K.dmS})}=e;return(0,s.jsxs)(a.j,{...(0,w.Xb)()?X:{},children:[i&&(0,s.jsx)(Q.K,{px:6,variant:"plain","aria-label":b.Ru._({id:"DHhJ7s"}),icon:(0,s.jsx)(O.g,{icon:K.CeG}),onClick:i}),(0,s.jsx)(k.h,{}),n&&(0,s.jsx)(o.$,{px:6,isDisabled:t,variant:"solid","aria-label":b.Ru._({id:"hXzOVo"}),onClick:n,isLoading:l,...d?{rightIcon:d}:{},children:r})]})});$.displayName="UserInfoStepFooter";let J=(0,g.memo)(e=>{let{eyebrow:i,heading:n,footer:t,children:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V.r,{letterSpacing:"0","data-id":"user-info-modal-header",children:(0,s.jsxs)(d.B,{spacing:1,children:[i&&(0,s.jsx)(l.E,{fontSize:"xs",color:"gray.500",fontWeight:"medium",children:i}),n&&(0,s.jsx)(c.D,{variant:"fancy",as:"h2",fontSize:"2xl",textAlign:"left",children:n})]})}),(0,s.jsx)(Y.c,{mt:-3,fontSize:"sm",children:(0,s.jsx)(d.B,{spacing:4,children:a})}),t]})});J.displayName="UserInfoStep";let Z=Object.entries(N).map(e=>{let[i,n]=e;return{label:n.label,emoji:n.emoji,value:i,description:n.description}}),q=Object.entries(B).map(e=>{let[i,n]=e;return{label:n.label,emoji:n.emoji,value:i}}),ee=Object.entries(F).map(e=>{let[i,n]=e;return{label:n.label,emoji:n.emoji,value:i,description:n.description}}),ei=e=>e?Object.entries(M[e]).map(e=>{let[i,n]=e;return{label:n.label,emoji:n.emoji,value:i}}):[],en=e=>{let{onClose:i}=e,n=(0,y.st)(),{user:u,refetch:j,isUserLoading:h}=(0,C.ur)(),[m,S]=(0,g.useState)("jobFunctionCategory"),[k,I]=(0,g.useState)(!1),[A,T]=(0,g.useState)(null),[O,_]=(0,g.useState)(null),[N,D]=(0,g.useState)(null),[z,L]=(0,g.useState)(new Set),M="education"===A?O:A,F=(0,g.useMemo)(()=>ei(M),[M]),[B,{loading:W}]=(0,v.H7G)(),[Q]=(0,v._mG)(),[V,Y]=(0,g.useState)(null),[K,en]=(0,g.useState)(!1),es=!K;(0,g.useEffect)(()=>{h||null!=u&&u.jobFunction||(0,f.g)().fetch().then(e=>{var i;let n=null==e?void 0:null===(i=e.location)||void 0===i?void 0:i.country;!(null==u?void 0:u.jobFunction)&&n&&(0,E._S)(n)&&(en(!0),Q({variables:{patch:(0,E.qU)({set:{unsubscribeAnnouncementEmails:!1,unsubscribeOnboardingEmails:!1}})}}))}).catch(()=>{})},[Q,h,null==u?void 0:u.jobFunction]),(0,g.useEffect)(()=>{(0,w.Xb)()&&setTimeout(()=>{var e;null===(e=document.querySelector('[data-id="user-info-modal-header"]'))||void 0===e||e.scrollIntoView()},0)},[m]);let el=(0,g.useCallback)(()=>{N&&(null==u?void 0:u.id)&&B({variables:{input:{id:null==u?void 0:u.id,jobFunction:N}}}).then(()=>{null==n||n.track(y.VV.USER_INFO_JOB_FUNCTION_SUBMITTED,{jobFunction:N})})},[N,B,null==u?void 0:u.id,n]),ea=(0,g.useCallback)(()=>{if(null==u?void 0:u.id){if(!V){K&&(null==j||j().then(()=>{i()}));return}B({variables:{input:{id:null==u?void 0:u.id,referrer:V}}}).then(()=>{null==n||n.track(y.VV.USER_INFO_REFERRER_SUBMITTED,{referrer:V}),K&&(null==j||j().then(()=>{i()}))})}},[V,B,null==u?void 0:u.id,n,K,j,i]),er=(0,g.useCallback)(()=>{if(0===z.size)return;let e=Array.from(z).reduce((e,i)=>(e[i]=1,e),{});Q({variables:{patch:(0,E.qU)({set:{goals:e}})}}).then(()=>{null==n||n.track(y.VV.USER_INFO_GOALS_SUBMITTED,{goals:e})})},[z,Q,n]),eo=(0,g.useCallback)(e=>{let s=!e;Q({variables:{patch:(0,E.qU)({set:{unsubscribeAnnouncementEmails:s,unsubscribeOnboardingEmails:s}})}}).then(()=>{null==n||n.track(y.VV.USER_INFO_EMAIL_OPTIN_SUBMITTED,{optIn:e}),null==j||j().then(()=>{i()})})},[n,i,j,Q]);return(0,s.jsxs)(t.$,{children:["jobFunctionCategory"===m&&(0,s.jsx)(J,{eyebrow:(0,s.jsx)(p.x6,{id:"QADltx"}),heading:(0,s.jsx)(p.x6,{id:"kJizcc"}),footer:(0,s.jsx)($,{onNextClick:()=>{M&&S("jobFunction")},isNextLoading:W,isNextDisabled:!M}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{children:(0,s.jsx)(p.x6,{id:"tFstlG"})}),(0,s.jsx)(G,{options:Z,selectedOption:A,onOptionClick:e=>{T(e),"education"===e?I(!0):(I(!1),_(null))}}),k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{children:(0,s.jsx)(p.x6,{id:"DvmlM5"})}),(0,s.jsx)(G,{options:[{label:(0,s.jsx)(p.x6,{id:"B8bw8p"}),emoji:"\uD83D\uDC68‍\uD83C\uDFEB",value:"educator"},{label:(0,s.jsx)(p.x6,{id:"MwoyWu"}),emoji:"\uD83D\uDCD6",value:"student"}],selectedOption:O,onOptionClick:e=>{_(e)}})]})]})}),"jobFunction"===m&&M&&(0,s.jsx)(J,{eyebrow:(0,s.jsx)(p.x6,{id:"U0ieZh"}),heading:"student"===M?(0,s.jsx)(p.x6,{id:"LAJAHU"}):"educator"===M?(0,s.jsx)(p.x6,{id:"nTlw6w"}):(0,s.jsx)(p.x6,{id:"SYYw/x"}),footer:(0,s.jsx)($,{onNextClick:()=>{el(),S("goals")},isNextLoading:W,isNextDisabled:!N,onPreviousClick:()=>{S("jobFunctionCategory")}}),children:(0,s.jsx)(G,{options:F,selectedOption:N,onOptionClick:e=>{D(e)}})}),"goals"===m&&N&&(0,s.jsx)(J,{eyebrow:(0,s.jsx)(p.x6,{id:"5kBTR0"}),heading:(0,s.jsx)(p.x6,{id:"bxVnzE"}),footer:(0,s.jsx)($,{onNextClick:()=>{er(),S("referrer")},isNextLoading:W,onPreviousClick:()=>{S("jobFunction")},isNextDisabled:0===z.size}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{children:(0,s.jsx)(p.x6,{id:"/gm5rJ"})}),(0,s.jsx)(R,{options:ee,selectedOptions:z,onOptionClick:e=>{let i=new Set(z);(null==z?void 0:z.has(e))?i.delete(e):null==i||i.add(e),L(i)}})]})}),"referrer"===m&&ee&&(0,s.jsx)(J,{eyebrow:(0,s.jsx)(p.x6,{id:"gDmAEg"}),heading:(0,s.jsx)(p.x6,{id:"bxuHg8"}),footer:(0,s.jsx)($,{onNextClick:()=>{ea(),es&&S("emailOptin")},isNextLoading:W,onPreviousClick:()=>{S("goals")},nextButtonLabel:K?(0,s.jsx)(p.x6,{id:"DPfwMq"}):void 0,nextButtonIcon:K?null:void 0}),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E,{children:"friend"===V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.x6,{id:"rDnuQu"})," ",(0,s.jsx)("span",{role:"img","aria-label":"thank you",children:"\uD83D\uDE4F"})]}):V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.x6,{id:"dn2WW0"}),(0,s.jsx)("span",{role:"img","aria-label":"thank you",children:"\uD83E\uDD29"})]}):(0,s.jsx)(p.x6,{id:"AKJu11"})}),(0,s.jsx)(G,{options:q,selectedOption:V,onOptionClick:e=>{Y(e)}})]})}),"emailOptin"===m&&es&&(0,s.jsx)(J,{footer:(0,s.jsx)(a.j,{justifyContent:"flex-end",...(0,w.Xb)()?X:{},children:(0,s.jsxs)(r.e,{children:[(0,s.jsx)(o.$,{px:8,variant:"ghost",colorScheme:"gray",onClick:()=>{eo(!1)},children:(0,s.jsx)(p.x6,{id:"PBxg/E"})}),(0,s.jsx)(o.$,{px:8,variant:"solid",onClick:()=>{eo(!0)},children:(0,s.jsx)(p.x6,{id:"6O1SHN"})})]})}),children:(0,s.jsxs)(d.B,{spacing:6,pt:6,children:[(0,s.jsx)(c.D,{textAlign:"center",variant:"fancy",as:"h2",fontSize:"2xl",children:(0,s.jsx)(p.x6,{id:"N8KFFr"})}),(0,s.jsxs)(x.s,{direction:{base:"column",md:"row"},gap:8,children:[(0,s.jsx)(et,{text:(0,s.jsx)(p.x6,{id:"K4EuCC"}),imageSrc:U.src,imageAlt:b.Ru._({id:"K4EuCC"})}),(0,s.jsx)(et,{text:(0,s.jsx)(p.x6,{id:"CQRVF5"}),imageSrc:P.src,imageAlt:b.Ru._({id:"CQRVF5"})}),(0,s.jsx)(et,{text:(0,s.jsx)(p.x6,{id:"arUUsK"}),imageSrc:H.src,imageAlt:b.Ru._({id:"arUUsK"})})]}),(0,s.jsxs)(d.B,{spacing:2,children:[(0,s.jsx)(l.E,{children:(0,s.jsx)(p.x6,{id:"cQr079"})}),(0,s.jsx)(l.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(p.x6,{id:"/PFBVQ"})})]})]})})]})},es=()=>{let{onClose:e,onOpen:i,isOpen:n}=(0,u.j)(),{user:t,isUserLoading:l}=(0,C.ur)(),a=!!(t&&!l&&!t.jobFunction);return((0,g.useEffect)(()=>{a&&setTimeout(i,1e3)},[a,i]),n)?(0,s.jsxs)(j.aF,{isOpen:n,"data-id":"user-info-modal",isCentered:!(0,w.Xb)(),onClose:e,autoFocus:!1,closeOnEsc:!1,closeOnOverlayClick:!1,size:(0,w.Xb)()?"full":"lg",children:[(0,s.jsx)(h.m,{backdropFilter:(0,w.Xb)()?void 0:"blur(32px)"}),(0,s.jsx)(en,{onClose:e})]}):(0,s.jsx)(s.Fragment,{})},et=e=>{let{text:i,imageSrc:n,imageAlt:t}=e;return(0,s.jsxs)(d.B,{spacing:3,flexBasis:"100%",direction:"column",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(m._,{src:n,alt:t,maxH:"36px"}),(0,s.jsx)(c.D,{size:"xs",variant:"fancy",children:i})]})}},44095:(e,i,n)=>{n.d(i,{l:()=>a});var s=n(13765),t=n(14041),l=n(57882);let a=()=>{let{push:e}=(0,s.useRouter)(),{userStatus:i}=(0,l.ur)();(0,t.useEffect)(()=>{"loggedOut"===i&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[i,e])}},59728:(e,i,n)=>{n.d(i,{TQ:()=>d,YR:()=>o});var s=n(31085),t=n(14041);let l={activeTab:n(77517).n8.ALL},a=(0,t.createContext)({state:l,dispatch:()=>{throw Error("dispatch function must be overridden")}}),r=(e,i)=>"SET_ACTIVE_TAB"===i.type?{...e,activeTab:i.payload}:e,o=()=>{let e=(0,t.useContext)(a);if(void 0===e)throw Error("useActiveTabContext must be used within a ActiveTabProvider");return e},d=e=>{let{children:i}=e,[n,o]=(0,t.useReducer)(r,l);return(0,s.jsx)(a.Provider,{value:{state:n,dispatch:o},children:i})}},77517:(e,i,n)=>{n.d(i,{mQ:()=>h,n8:()=>j,uL:()=>u});var s=n(31085),t=n(20501),l=n(3040),a=n(52177),r=n(12327),o=n(56005),d=n.n(o),c=n(39286),x=n(79182);let u={ALL:"all",SHARED_WITH_YOU:"shared-with-you",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites",SETTINGS:"settings",IMAGES:"images"},j={...u},h={[u.ALL]:{displayName:d()(c.Ix),ariaLabel:()=>d()(c.Ix),icon:t.vGi,showCreateButton:!0},[u.SHARED_WITH_YOU]:{displayName:(0,s.jsx)(a.x6,{id:"z/ZgK/"}),ariaLabel:()=>r.Ru._({id:"z/ZgK/"}),icon:t.USd,showCreateButton:!1},[u.SITES]:{displayName:(0,s.jsx)(a.x6,{id:"QHZRmq"}),ariaLabel:()=>r.Ru._({id:"QHZRmq"}),icon:t.Bwz,showCreateButton:!0},[u.IMAGES]:{displayName:(0,s.jsx)(a.x6,{id:"Q+Vsar"}),ariaLabel:()=>r.Ru._({id:"lv+fWg"}),icon:l._$C,showCreateButton:!0},[u.CHANNEL]:{displayName:(0,s.jsx)(a.x6,{id:"HSh8u/"}),ariaLabel:()=>r.Ru._({id:"HSh8u/"}),icon:x.$Q,showCreateButton:!0},[u.TRASH]:{displayName:(0,s.jsx)(a.x6,{id:"GQ3O42"}),ariaLabel:()=>r.Ru._({id:"GQ3O42"}),icon:t.yLS,showCreateButton:!1},[u.TEMPLATES]:{displayName:(0,s.jsx)(a.x6,{id:"iTylMl"}),ariaLabel:()=>r.Ru._({id:"iTylMl"}),icon:t.zm_,showCreateButton:!1},[u.INSPIRATION]:{displayName:(0,s.jsx)(a.x6,{id:"K2fjhl"}),ariaLabel:()=>r.Ru._({id:"K2fjhl"}),icon:t.ReK,showCreateButton:!1},[u.THEMES]:{displayName:(0,s.jsx)(a.x6,{id:"fJ3EbT"}),ariaLabel:()=>r.Ru._({id:"fJ3EbT"}),icon:t.fyG,showCreateButton:!1,description:(0,s.jsx)(a.x6,{id:"VLAmF4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:c.Ix}})},[u.FONTS]:{displayName:(0,s.jsx)(a.x6,{id:"E3KfxC"}),ariaLabel:()=>r.Ru._({id:"E3KfxC"}),icon:t.A1G,showCreateButton:!1,description:(0,s.jsx)(a.x6,{id:"sWZ6Li",components:{0:(0,s.jsx)("b",{})}})},[u.SETTINGS]:{displayName:(0,s.jsx)(a.x6,{id:"0dbeO4"}),ariaLabel:()=>r.Ru._({id:"0dbeO4"}),icon:t.Ubc,showCreateButton:!1}}},36828:(e,i,n)=>{n.d(i,{q:()=>R});var s=n(31242),t=n.n(s),l=n(14041),a=n(61722),r=n(64225),o=n(10458),d=n(57882),c=n(59728),x=n(77517),u=n(73379),j=n(31085),h=n(32202),m=n(50877),p=n(23970),b=n(25420),g=n(61778),v=n(74727),f=n(80853),y=n(9021),C=n(52177),E=n(12327);let w=e=>{let{currentChannelId:i,channelPreview:n,workspaceId:s,joinChannel:t,toastId:l}=e,a=(0,h.d)();return l?(0,j.jsxs)(b.s,{bg:"white",p:3,px:6,m:4,justify:"center",align:"center",borderRadius:"md",shadow:"md",children:[(0,j.jsx)(g.E,{fontSize:"sm",mr:4,children:(0,j.jsx)(C.x6,{id:"HPr8I3",values:{0:n.name},components:{0:(0,j.jsx)("strong",{})}})}),(0,j.jsxs)(v.e,{size:"sm",alignItems:"center",children:[(0,j.jsx)(f.$,{maxW:"xs",display:"block",noOfLines:1,onClick:()=>{if(!i||!n){console.error("No active channel id");return}t({channel:{...n},workspaceId:s}).then(()=>{a.close(l)})},variant:"solid",children:(0,j.jsx)(C.x6,{id:"0wdd7X"})}),(0,j.jsx)(y.K,{isRound:!0,variant:"ghost",size:"xs","aria-label":E.Ru._({id:"1QfxQT"}),icon:(0,j.jsx)(p.U,{}),onClick:()=>{a.close(l)}})]})]}):null};var S=n(18923);let k=e=>{let{currentChannelId:i,activeChannel:n,workspaceId:s}=e,a=(0,h.d)(),r="channel-preview",{joinChannel:o}=(0,S.Z)(),{data:d,called:c,error:x,loading:p}=(0,m.pc2)({variables:{id:i,workspaceId:s},skip:n||!i||!s}),b=i&&!n&&(null==d?void 0:d.channel)?d.channel:null;return(0,l.useEffect)(()=>{x&&console.error("[useChannelsData] Error fetching channelPreview",x),(x||c&&b&&b.archived)&&t().replace("/#".concat(u.Jj))},[x,b,c,p]),(0,l.useEffect)(()=>{let e=i&&b;return e||a.close(r),e&&!a.isActive(r)&&a({id:r,duration:null,render:()=>(0,j.jsx)(w,{workspaceId:s,currentChannelId:i,channelPreview:b,joinChannel:o,toastId:r})}),()=>{a.close(r)}},[i,b,o,a,s]),{channelPreview:b}},I=e=>{let{workspaceId:i,user:n}=e,{query:t}=(0,s.useRouter)(),a=Array.isArray(t.channelSlug)?t.channelSlug[0]:t.channelSlug,r=a?a.slice(-15):null,{data:o,loading:d,subscribeToMore:c}=(0,m.oXG)({variables:{workspaceId:i},skip:!n||!n.workspaceMemberships||!i,returnPartialData:!0});(0,l.useEffect)(()=>{if(c&&i)return c({document:m.U1V,variables:{workspaceId:i}})},[c,i]);let x=((null==o?void 0:o.channels)||[]).filter(e=>e.isMember&&!e.archived).sort((e,i)=>e.slug.localeCompare(i.slug,"en")),u=x.find(e=>e.id===r),{channelPreview:j}=k({currentChannelId:r,activeChannel:u,workspaceId:i});return{channelPreview:j,currentChannelId:r,channels:x,isChannelsLoading:d,activeChannel:u}},A=e=>{let{currentChannel:i,currentWorkspaceId:n}=e,{replace:t}=(0,s.useRouter)();(0,l.useEffect)(()=>{n&&i&&i.workspaceId!==n&&t("/")},[i,n,t])};var T=n(94336),O=n(92405);let _=e=>Object.values(x.n8).find(i=>i===e),R=()=>{let{user:e,currentWorkspace:i}=(0,d.ur)(),{isReady:n,route:j}=(0,s.useRouter)(),h=(0,a.Fd)(),m=!!(e&&0===e.workspaceMemberships.length),p=_((0,O.M$)()),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:y}=I({workspaceId:null==i?void 0:i.id,user:e});A({currentChannel:b||v,currentWorkspaceId:null==i?void 0:i.id});let{state:C,dispatch:E}=(0,c.YR)(),w=C.activeTab,S=(0,r.jL)(),k=(0,r.GV)(T.kx),R=(0,l.useCallback)(e=>{S((0,T.aL)({isSidebarVisible:e}))},[S]);return(0,l.useEffect)(()=>{let e=f?x.n8.CHANNEL:p||("/settings"===j?"settings":void 0)||u.Jj;e!==w&&E({type:"SET_ACTIVE_TAB",payload:e})},[w,f,E,j,p]),(0,l.useEffect)(()=>{h||"sites"!==w||t().replace("/")},[h,w]),(0,l.useEffect)(()=>{R(!1)},[]),(0,l.useEffect)(()=>{n&&(m?t().replace("/#".concat(x.n8.SHARED_WITH_YOU)):setTimeout(()=>{S((0,T.aL)({isSidebarVisible:!1}))},150))},[S,p,f,m,n]),(0,o.JQ)(e=>{e.track(o.VV.HOME_TAB_VIEWED,{tab:w})},[w]),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:y,activeTab:w,isSidebarVisible:k,setIsSidebarVisible:R,sitesEnabled:h,userHasNoWorkspaces:m,user:e,currentWorkspace:i}}},46419:(e,i,n)=>{n.d(i,{e:()=>h});var s=n(31085),t=n(80532),l=n(25420),a=n(9021),r=n(61778),o=n(18201),d=n(70323),c=n(20501),x=n(24221),u=n(17723),j=n(57882);let h=e=>{let{setIsSidebarVisible:i,isSidebarVisible:n,children:h}=e,{currentWorkspace:m}=(0,j.ur)();return(0,s.jsxs)(t.az,{w:"100%",mb:6,maxW:"100%",children:[(0,s.jsxs)(t.az,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,s.jsxs)(l.s,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,s.jsx)(a.K,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,s.jsx)(x.g,{icon:c.ckx}),size:"sm",marginInlineEnd:2,marginInlineStart:-2,onClick:()=>i(!n),isRound:!0}),(0,s.jsxs)(l.s,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,s.jsx)(r.E,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==m?void 0:m.name}),(0,s.jsx)(o.h,{}),(0,s.jsx)(u.XR,{})]})]}),(0,s.jsx)(d.c,{})]}),h]})}},31306:(e,i,n)=>{n.d(i,{e:()=>s.e});var s=n(46419)},43253:(e,i,n)=>{n.d(i,{S:()=>eo,z:()=>Q});var s=n(31085),t=n(20931),l=n(35687),a=n(25420),r=n(80532),o=n(18651),d=n(2219),c=n(61778),x=n(62313),u=n(18201),j=n(80853),h=n(18588),m=n(59742),p=n(97482),b=n(34363),g=n(65446),v=n(18658),f=n(49547),y=n(76166),C=n(35436),E=n(20671),w=n(43342),S=n(26833),k=n(62230),I=n(35789),A=n(82680),T=n(20501),O=n(24221),_=n(95986),R=n(52177),N=n(12327),D=n(14041),z=n(50877),L=n(39286),M=n(79182),F=n(95179),B=n(18923),U=n(3706),P=n(37786),H=n.n(P);let W=e=>{let{channelName:i,onCreateClick:n}=e;return(0,s.jsx)(I.o,{minH:"sm",children:(0,s.jsxs)(a.s,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:[(0,s.jsx)(r.az,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,s.jsx)(H(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,s.jsx)(d.D,{size:"md",mb:2,textAlign:"center",children:(0,s.jsx)(R.x6,{id:"NmfOr+"})}),(0,s.jsx)(c.E,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,s.jsx)(R.x6,{id:"cZOpR0",values:{channelName:i},components:{0:(0,s.jsx)(U.N,{onClick:n,color:"trueblue.500"})}})})]})})},G=e=>{let{channels:i,workspaceId:n}=e,{leaveChannel:t,joinChannel:h}=(0,B.Z)(),m=(0,D.useCallback)((e,i)=>{e?h({channel:i,workspaceId:n}):t({channel:i})},[h,t,n]);return(0,s.jsxs)(l.B,{spacing:0,children:[0===i.length&&(0,s.jsxs)(a.s,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,s.jsx)(r.az,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,s.jsx)(o._,{src:F.A.src,width:"725px",alt:"Sal, the Gamma mascot, painting in space"})}),(0,s.jsx)(d.D,{size:"md",mb:2,textAlign:"center",children:(0,s.jsx)(R.x6,{id:"PN1FMY"})}),(0,s.jsx)(c.E,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,s.jsx)(R.x6,{id:"gdEwT8",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:L.Ix},components:{0:(0,s.jsx)("br",{})}})})]}),i.length>0&&i.map(e=>{let{members:i,isMember:n,memberCount:t,name:a}=e;return(0,s.jsxs)(x.z,{spacing:4,px:4,py:2,_hover:{bg:"gray.100"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,s.jsx)(r.az,{p:2,color:n?"":"gray.400",children:(0,s.jsx)(O.g,{icon:n?T.QRE:M.$Q})}),(0,s.jsxs)(x.z,{flex:1,children:[(0,s.jsxs)(l.B,{spacing:0,children:[(0,s.jsx)(c.E,{children:a}),(0,s.jsx)(c.E,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,s.jsx)(R.x6,{id:"tWPlLK",values:{0:t||0}}):(0,s.jsx)(R.x6,{id:"pkIIls",values:{0:t||0}})})]}),(0,s.jsx)(u.h,{}),(0,s.jsx)(_.KZ,{size:"xs",overflowTooltipLabel:N.Ru._({id:"25VyZX"}),avatars:i||[],max:3})]}),(0,s.jsx)(j.$,{w:20,variant:n?"ghost":"plain",color:n?"gray.600":"plain",size:"sm",onClick:()=>{m(!n,e)},children:n?(0,s.jsx)(R.x6,{id:"Mv8CyJ"}):(0,s.jsx)(R.x6,{id:"0wdd7X"})})]},e.id)})]})},Q=e=>{var i;let{isOpen:n,onClose:a,workspaceId:r}=e,[o,d]=(0,D.useState)(""),[u,T]=(0,D.useState)(!1),[O,L]=(0,D.useState)(!1),M=(0,D.useRef)(null),{createChannel:F,createChannelLoading:U,createChannelError:P}=(0,B.Z)(),[H,Q]=(0,D.useState)(null),[V,Y]=(0,D.useState)(!1),[K,X]=(0,D.useState)(!1),{data:$,loading:J,called:Z,fetchMore:q}=(0,z.NVU)({variables:{workspaceId:r,first:20,sortBy:{field:z.ei5.MemberCount,direction:z.UEL.Desc},query:o},skip:!r}),ee=(0,D.useCallback)(e=>{let{value:i}=e.target;Y(!1),Q(null),i?d(i):d("")},[]),ei=!!(o&&(null==$?void 0:$.workspaceChannels.edges.length)===0),en=()=>{if(r){if(!o){Y(!0);return}F({input:{name:o,workspaceId:r}}).then(()=>{a()}).catch(e=>{Q(e.message)})}};(0,D.useEffect)(()=>{J||T(ei)},[J,ei]),(0,D.useEffect)(()=>{!Z||J||O||L(!0)},[Z,J,O]);let es=u&&ei,et=(null==$?void 0:$.workspaceChannels.edges.map(e=>e.node))||[],el=!o,ea=null==$?void 0:null===(i=$.workspaceChannels)||void 0===i?void 0:i.pageInfo,er=O&&(null==ea?void 0:ea.hasNextPage)&&(null==ea?void 0:ea.endCursor);return(0,s.jsxs)(h.aF,{isOpen:n,onClose:a,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:M,children:[(0,s.jsx)(m.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(b.r,{pb:0,children:(0,s.jsx)(R.x6,{id:"Mxy55o"})}),(0,s.jsxs)(c.E,{px:6,color:"gray.500",mb:2,children:[(0,s.jsx)(R.x6,{id:"/eBcp2"}),"."]}),(0,s.jsx)(g.s,{}),(0,s.jsx)(v.c,{children:(0,s.jsxs)(l.B,{spacing:5,children:[(0,s.jsxs)(x.z,{align:"flex-start",children:[(0,s.jsxs)(f.MJ,{isInvalid:!!P&&o.length>0||!!H||V,children:[(0,s.jsxs)(y.M,{size:"md",children:[(0,s.jsx)(C.W,{pointerEvents:"none",color:"gray.300",children:(0,s.jsx)(t.W,{})}),(0,s.jsx)(E.p,{value:o,onChange:ee,placeholder:N.Ru._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:M}),J&&(0,s.jsx)(C.t,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,s.jsx)(w.y,{size:"sm"})})]}),H&&(0,s.jsx)(S.Wt,{children:H}),V&&(0,s.jsx)(S.Wt,{children:(0,s.jsx)(R.x6,{id:"/Lrnb5"})})]}),(0,s.jsx)(j.$,{w:"300px",variant:"plain",onClick:en,isLoading:U,children:(0,s.jsx)(R.x6,{id:"Oo7YVo"})})]}),(0,s.jsxs)(_._x,{children:[el&&(0,s.jsx)(R.x6,{id:"LOzhoI"}),o&&(0,s.jsx)(R.x6,{id:"mjEyky",values:{0:et.length}})]}),es&&(0,s.jsx)(W,{channelName:o,onCreateClick:en}),!O&&(0,s.jsxs)(l.B,{children:[(0,s.jsx)(k.E,{height:"55px"}),(0,s.jsx)(k.E,{height:"55px"}),(0,s.jsx)(k.E,{height:"55px"}),(0,s.jsx)(k.E,{height:"55px"}),(0,s.jsx)(k.E,{height:"55px"})]}),O&&r&&!es&&(0,s.jsx)(G,{channels:et,workspaceId:r}),er&&(0,s.jsx)(I.o,{p:6,children:(0,s.jsx)(j.$,{isLoading:K,onClick:()=>{X(!0),q({variables:{...0===o.length?{first:50}:{},after:null==ea?void 0:ea.endCursor}}).finally(()=>{X(!1)})},size:"sm",children:(0,s.jsx)(R.x6,{id:"yQ2kGp"})})})]})}),(0,s.jsx)(A.j,{children:(0,s.jsx)(j.$,{variant:"solid",onClick:a,children:(0,s.jsx)(R.x6,{id:"DPfwMq"})})})]})]})};var V=n(55276),Y=n(32202),K=n(78872),X=n(63341),$=n(18528),J=n(9021),Z=n(72821),q=n(33683),ee=n(81575),ei=n(31242),en=n.n(ei),es=n(91559),et=n(92405),el=n(74727);let ea=e=>{let{channel:i,workspaceId:n,onClose:t}=e,[l]=(0,z.YYU)(),a=(0,Y.d)(),r=(0,D.useCallback)(()=>{if(!n||!(null==i?void 0:i.id)){console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(n,'" channelId: "').concat(null==i?void 0:i.id,'"'));return}l({variables:{channelId:i.id,workspaceId:n}}).then(()=>{a({title:(0,s.jsx)(R.x6,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[i,a,l,n]);return(0,s.jsxs)(h.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,s.jsx)(m.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsxs)(b.r,{children:["Delete ",i.name,"?"]}),(0,s.jsx)(g.s,{}),(0,s.jsxs)(v.c,{children:[(0,s.jsx)(c.E,{mb:2,children:(0,s.jsx)(R.x6,{id:"IkJ0gO"})}),(0,s.jsx)(c.E,{mb:2,children:(0,s.jsx)(R.x6,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:L.Ix}})}),(0,s.jsx)(c.E,{color:"red.500",children:(0,s.jsx)(R.x6,{id:"2xOCJW"})})]}),(0,s.jsx)(A.j,{children:(0,s.jsxs)(el.e,{children:[(0,s.jsx)(j.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(R.x6,{id:"dEgA5A"})}),(0,s.jsx)(j.$,{variant:"hazardous",onClick:()=>{r(),t()},children:(0,s.jsx)(R.x6,{id:"NbFtQm"})})]})})]})]})},er=e=>{let{channel:i,workspaceId:n,onClose:t}=e,l=(0,Y.d)(),[r,o]=(0,D.useState)(()=>null==i?void 0:i.name),[d,{loading:c}]=(0,z.t1M)(),[x,u]=(0,D.useState)(null),y=(0,D.useCallback)(e=>{o(e.target.value)},[]),C=(0,D.useRef)(null),w=!!x,k=(0,D.useCallback)(()=>{if(!n||!(null==i?void 0:i.id)){console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(n,'" channelId: "').concat(null==i?void 0:i.id,'"'));return}d({variables:{input:{id:null==i?void 0:i.id,workspaceId:n,name:r}}}).then(e=>{var n;let{data:a}=e;en().replace((0,et.gU)({id:null==i?void 0:i.id,slug:null==a?void 0:a.updateChannel.slug})),l({title:(0,s.jsx)(R.x6,{id:"QJd4OZ",values:{0:null==a?void 0:null===(n=a.updateChannel)||void 0===n?void 0:n.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),t()}).catch(e=>{u(e.message)})},[n,null==i?void 0:i.id,d,r,l,t]);return(0,s.jsxs)(h.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:C,onClose:t,children:[(0,s.jsx)(m.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(b.r,{children:(0,s.jsx)(R.x6,{id:"NZgZhv"})}),(0,s.jsx)(g.s,{}),(0,s.jsx)(v.c,{children:(0,s.jsx)(a.s,{mt:4,w:"100%",direction:"column",children:(0,s.jsxs)(f.MJ,{isInvalid:w,children:[(0,s.jsx)(E.p,{value:r,ref:C,onChange:y,onKeyDown:e=>{"Enter"===e.key&&k()}}),w&&(0,s.jsx)(S.Wt,{children:x})]})})}),(0,s.jsx)(A.j,{children:(0,s.jsxs)(el.e,{children:[(0,s.jsx)(j.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(R.x6,{id:"dEgA5A"})}),(0,s.jsx)(j.$,{isLoading:c,variant:"solid",onClick:k,children:(0,s.jsx)(R.x6,{id:"2wxgft"})})]})})]})]})},eo=e=>{let{channel:i,workspaceId:n}=e,{isOpen:t,onOpen:l,onClose:a}=(0,V.j)({id:"deleteChannelModalDisclosure"}),{isOpen:r,onOpen:o,onClose:d}=(0,V.j)({id:"renameChannelModalDisclosure"}),{push:c}=(0,ei.useRouter)(),{leaveChannel:x}=(0,B.Z)(),u=(0,Y.d)(),{onCopy:j}=(0,K.i)((0,et.gU)({id:null==i?void 0:i.id,slug:null==i?void 0:i.slug},!1)),{isInOfflineMode:h}=(0,es.u)();return(0,s.jsxs)(X.W,{closeOnSelect:!1,isLazy:!0,children:[(0,s.jsx)($.I,{as:J.K,variant:"ghost",fontWeight:"600",color:"gray.700",icon:(0,s.jsx)(O.g,{icon:T.Dwc})}),(0,s.jsxs)(Z.c,{zIndex:"popover",children:[(0,s.jsx)(q.D,{icon:(0,s.jsx)(O.g,{fixedWidth:!0,icon:T.tAZ}),onClick:o,isDisabled:h,children:(0,s.jsx)(R.x6,{id:"NZgZhv"})}),(0,s.jsx)(ee.N,{}),(0,s.jsx)(q.D,{onClick:()=>{j(),u({title:(0,s.jsx)(R.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,s.jsx)(O.g,{fixedWidth:!0,icon:T.Exz}),children:(0,s.jsx)(R.x6,{id:"alYpud"})}),(0,s.jsx)(q.D,{icon:(0,s.jsx)(O.g,{fixedWidth:!0,icon:T._S}),onClick:()=>{x({channel:i}).then(()=>{c("/")})},isDisabled:h,children:(0,s.jsx)(R.x6,{id:"jC8TAY"})}),(0,s.jsx)(ee.N,{}),(0,s.jsx)(q.D,{color:"red.500",onClick:l,icon:(0,s.jsx)(O.g,{fixedWidth:!0,icon:T.yLS}),isDisabled:h,children:(0,s.jsx)(R.x6,{id:"NbFtQm"})})]}),r&&(0,s.jsx)(er,{channel:i,workspaceId:n,onClose:d}),t&&(0,s.jsx)(ea,{channel:i,workspaceId:n,onClose:a})]})}},73379:(e,i,n)=>{n.d(i,{CW:()=>o,Hd:()=>x,Jj:()=>d,Zv:()=>r,eT:()=>c});var s=n(31085),t=n(52177),l=n(50877),a=n(77517);let r=[{key:l.vY2.EditedTime,label:(0,s.jsx)(t.x6,{id:"acZeX2"})},{key:l.vY2.CreatedTime,label:(0,s.jsx)(t.x6,{id:"u46WEi"})}],o=[{key:l.vY2.LastViewed,label:(0,s.jsx)(t.x6,{id:"UOgIR2"})},{key:l.vY2.LastEdited,label:(0,s.jsx)(t.x6,{id:"acZeX2"})},{key:l.vY2.Favorited,label:(0,s.jsx)(t.x6,{id:"2TANrw"})}],d=a.n8.ALL,c=l.vY2.EditedTime,x=[l.vY2.LastViewed,l.vY2.LastEdited,l.vY2.Favorited]},18923:(e,i,n)=>{n.d(i,{Z:()=>x});var s=n(31085),t=n(32202),l=n(52177),a=n(31242),r=n.n(a),o=n(14041),d=n(50877),c=n(92405);let x=()=>{let e=(0,t.d)(),[i]=(0,d.nbV)(),[n]=(0,d.WYu)(),[a,{loading:x,error:u}]=(0,d.ugr)(),j=(0,o.useCallback)(n=>{let{channel:t}=n;return i({variables:{channelId:t.id}}).then(()=>{e({title:(0,s.jsx)(l.x6,{id:"GCUxja",values:{0:null==t?void 0:t.name}}),description:(0,s.jsx)(l.x6,{id:"SQY08b",values:{0:null==t?void 0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[i,e]);return{joinChannel:(0,o.useCallback)(i=>{let{channel:t,workspaceId:a}=i,{name:r}=t;return n({variables:{channelId:t.id},update:(e,i)=>{let{data:n}=i;(null==n?void 0:n.joinChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:a},data:{channels:[n.joinChannel]}})},optimisticResponse:{joinChannel:{...t}}}).then(()=>{e({title:(0,s.jsx)(l.x6,{id:"WpOdvg",values:{name:r}}),description:(0,s.jsx)(l.x6,{id:"/IOSvX",values:{name:r}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(i=>{e({title:(0,s.jsx)(l.x6,{id:"bLRa0l",values:{name:r}}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[n,e]),leaveChannel:j,createChannel:(0,o.useCallback)(i=>{let{input:n}=i;return a({variables:{input:n},update:(e,i)=>{let{data:s}=i;(null==s?void 0:s.createChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:n.workspaceId},data:{channels:[s.createChannel]}})}}).then(i=>{var n;let t=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.createChannel;(null==t?void 0:t.name)&&e({title:(0,s.jsx)(l.x6,{id:"EbT81q",values:{0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),(null==t?void 0:t.id)&&(null==t?void 0:t.slug)?r().push((0,c.gU)({id:t.id,slug:t.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==t?void 0:t.id,'". Slug: "').concat(null==t?void 0:t.slug,'"'))}).catch(i=>{e({title:(0,s.jsx)(l.x6,{id:"YeikaQ"}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[a,e]),createChannelLoading:x,createChannelError:u}}},51017:(e,i,n)=>{n.d(i,{M:()=>eV});var s=n(31085),t=n(25420),l=n(15428),a=n(27732),r=n(59728),o=n(31223),d=n(2657),c=n.n(d),x=n(14041),u=n(7059),j=n(77566),h=n(91559),m=n(10264),p=n(68251),b=n(39286),g=n(89059),v=n(43854),f=n(23970),y=n(80532),C=n(70323),E=n(18201),w=n(35687),S=n(62230),k=({size:e="2rem",...i})=>(0,s.jsx)(S.E,{borderRadius:"full",boxSize:e,...i});k.displayName="SkeletonCircle";var I=n(9021),A=n(27670),T=n(20501),O=n(52177),_=n(12327),R=n(17723),N=n(65998),D=n(23071),z=n(64130),L=n(43006),M=n(32849),F=n(62911),B=n(73264),U=n(44507),P=n(92667),H=n(43342),W=n(33321),G=n(27463),Q=n(10458),V=n(80853),Y=n(3706);let K=x.forwardRef((e,i)=>{let{children:n,dataTestId:t,isDisabled:l=!1,isSelected:a,isDropActive:r,href:o,target:d,...c}=e;return(0,s.jsx)(V.$,{ref:i,textDecoration:"none",variant:"ghost",w:"100%",size:"sm",colorScheme:"gray",as:Y.N,borderRadius:"md",justifyContent:"flex-start","data-testid":t,_hover:{bgColor:a?"trueblue.50":"gray.100",textDecoration:"none"},color:a||r?"trueblue.500":"gray.600",bgColor:a||r?"trueblue.50":void 0,_active:{color:"trueblue.500",bgColor:"trueblue.200",textDecoration:"none"},py:1.5,mb:1,paddingInlineStart:2,fontWeight:a?"bold":"regular",href:o,target:d,isDisabled:l,pointerEvents:l?"none":"auto",...c,children:n})});K.displayName="SidebarButton";var X=n(62313),$=n(61778),J=n(24221),Z=n(69011);let q=n.n(Z)()(e=>{let[i,n,s,t,l]=e.icon,a=encodeURIComponent('\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(i," ").concat(n,'">\n      <path d="').concat(l,'" />\n    </svg>\n  ').trim()).replace(/'/g,"%27").replace(/"/g,"%22");return"data:image/svg+xml,".concat(a)}),ee=e=>{let{icon:i,title:n,faClassName:t,w:l,badge:a,allowGradient:r,iconGap:o=2,fontColor:d}=e;return(0,s.jsxs)(X.z,{justify:"flex-start",w:"100%",paddingInlineEnd:a?3:void 0,color:d,children:[i?r?(0,s.jsx)(y.az,{bg:"gradient.blue-to-orange",as:"span",display:"inline-block",sx:{marginLeft:"2px",width:"var(--fa-fw-width, 1.1em)",height:"var(--fa-fw-width, 1.1em)",maskImage:"url(".concat(q(i),")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,s.jsx)(J.g,{icon:i,fixedWidth:!0,className:t||void 0,size:"1x",style:{color:"inherit"}}):null,(0,s.jsx)($.E,{textOverflow:"ellipsis",overflowX:"hidden",ml:o,w:l,style:{color:"inherit"},children:n}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.h,{}),a]})]})},ei=e=>{let{isOffline:i,iconGap:n}=e,{hasUnlimitedCredits:l,lowCreditStatus:a,credits:r,lowCreditAttributes:o,isAICreditsModalOpen:d,onAICreditsModalOpen:c,onAICreditsModalClose:u}=(0,G.x)(),j=(0,x.useMemo)(()=>a?o[a].lightColor:void 0,[o,a]);return l?null:(0,s.jsxs)(t.s,{children:[(0,s.jsx)(K,{dataTestId:"ai-user-credits",onClick:c,isDisabled:i,sx:{marginBottom:0},children:(0,s.jsx)(ee,{icon:T.wq_,iconGap:n,fontColor:j,title:null===r?(0,s.jsx)(H.y,{size:"xs"}):(0,s.jsx)(O.x6,{id:"IniQ/K",values:{availableCredits:r}})})}),!i&&(0,s.jsx)(W.m,{isOpen:d,onClose:u,credits:r,onOpen:c,segmentEvent:Q.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]})};var en=n(3040),es=n(10628);let et={backgroundImage:"linear-gradient(97deg, #3300D9 -10%, #9D20C9 56.82%, #DF7A6C 120%)",color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},el=e=>{let{iconGap:i,isOffline:n=!1}=e,{hasUnlimitedCredits:l,onAICreditsModalOpen:a,onAICreditsModalClose:r}=(0,G.x)(),{openUpsellModal:o,product:d}=(0,es.I)();return l&&null!==d?null:(0,s.jsx)(t.s,{children:(0,s.jsx)(K,{dataTestId:"get-unlimited-ai",isDisabled:n,sx:{marginBottom:0},onClick:()=>{o({onOpenCallback:a,onCloseCallback:r,segmentEvent:Q.VV.GAMMA_PRO_UPSELL_CALLOUT_SIDEBAR})},children:(0,s.jsx)(y.az,{sx:et,children:(0,s.jsx)(ee,{icon:en._$C,title:(0,s.jsx)(O.x6,{id:"WF3ztB"}),iconGap:i,allowGradient:!0})})})})};var ea=n(95986),er=n(57109);let eo=e=>{let{isDisabled:i}=e,n=(0,z.fW)();return(0,x.useEffect)(()=>{(0,er.a)({align:n?"left":"right"})},[n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.mL,{styles:{".Canny_BadgeContainer .Canny_Badge":{position:"absolute",top:"4px",right:"4px",borderRadius:"100%",backgroundColor:"var(--chakra-colors-red-500)",padding:"4px",border:"1px solid white"}}}),(0,s.jsx)(ea.Tz,{label:(0,s.jsx)(O.x6,{id:"yT74UF"}),placement:"top",children:(0,s.jsx)(I.K,{isDisabled:i,shadow:"none",icon:(0,s.jsx)(J.g,{icon:T.z$e}),height:"40px",width:"40px","aria-label":_.Ru._({id:"yT74UF"}),variant:"ghost",colorScheme:"gray",sx:{borderWidth:"1px",borderColor:{base:"gray.200",md:"transparent"}},"data-canny-changelog":!0})})]})};var ed=n(55276),ec=n(87835),ex=n.n(ec),eu=n(37590),ej=n(89382),eh=n(79182),em=n(57882),ep=n(4937),eb=n(92405),eg=n(68253),ev=n(43253),ef=n(34747),ey=n.n(ef);let eC=x.forwardRef((e,i)=>{let{tabKey:n,isSelected:t,isDropActive:l=!1,isDisabled:a,href:r,target:o,children:d,...c}=e;return(0,s.jsx)(ey(),{href:r,passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(K,{ref:i,isSelected:t,isDropActive:l,dataTestId:"sidebar-".concat(n,"-tab").concat(t?"--selected":""),target:o,isDisabled:a,...c,children:d})})});eC.displayName="SidebarItem";var eE=n(77517);let ew=e=>{let{isSelected:i,hasActivity:n}=e;return n&&T.qAe,i?eh.oQ:eh.$Q},eS=e=>{let{activity:i,user:n}=e;if(!(null==i?void 0:i.activeUsers))return(0,s.jsx)(s.Fragment,{});let t=ex()(i.activeUsers,"id"),l=(0,ep.Hz)(t,null==n?void 0:n.id);return(0,s.jsx)(ea.KZ,{overflowTooltipLabel:_.Ru._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:l.map(e=>{let{displayName:i,profileImageUrl:n,id:s}=e;return{name:i||"",id:s,profileImageUrl:n,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:e=>{e.preventDefault(),e.stopPropagation()}})},ek=e=>{var i,n;let{isPreview:t,channel:l,activeTab:a,currentChannelId:r,addDocToChannel:o,user:d,isDisabled:c}=e,x=(0,N.u)("channelActivity"),[{canDrop:u,isOver:j},h]=(0,eu.H)(()=>({accept:eg.v,drop:e=>{o(e,l)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})})),m=a===eE.uL.CHANNEL&&l.id===r,p=x&&!!((null==l?void 0:null===(i=l.activity)||void 0===i?void 0:i.activeUsers)&&(null==l?void 0:null===(n=l.activity)||void 0===n?void 0:n.activeUsers.length)>0),b=ew({isSelected:m,hasActivity:p});return(0,s.jsxs)(eC,{ref:h,"data-testid":"sidebar-item",tabKey:"".concat(eE.uL.CHANNEL,"-").concat(l.id),isDropActive:j&&u,isSelected:m,href:(0,eb.gU)({id:l.id,slug:l.slug}),opacity:t?"0.5":void 0,justifyContent:"space-between",w:"100%",isDisabled:c,children:[(0,s.jsx)(ee,{icon:b,title:l.name,faClassName:m&&p?"fa-beat-fade":void 0,w:"18ch"}),p&&(0,s.jsx)(eS,{activity:null==l?void 0:l.activity,user:d})]},l.id)},eI=e=>{let{channelPreview:i,channels:n,activeTab:t,currentChannelId:l,isChannelsLoading:a,isOffline:r}=e,{user:o,currentWorkspace:d}=(0,em.ur)(),{isOpen:c,onClose:x,doc:u,handleAddDocToChannel:j,updateWorkspacePermissionThenAddToChannel:h}=(0,ej.j$)(),{isOpen:m,onOpen:p,onClose:g}=(0,ed.j)({id:"manageChannelsModalDisclosure"});return a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.E,{h:"30px",w:"100%"}),(0,s.jsx)(S.E,{h:"30px",w:"100%"}),(0,s.jsx)(S.E,{h:"30px",w:"100%"})]}):(0,s.jsxs)(y.az,{"data-testid":"sidebar-channels",w:"100%",children:[(0,s.jsxs)(X.z,{justify:"space-between",children:[(0,s.jsx)(ea._x,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,s.jsx)(O.x6,{id:"HSh8u/"})}),(0,s.jsx)(ea.Tz,{label:(0,s.jsx)(O.x6,{id:"Mxy55o"}),children:(0,s.jsx)(I.K,{"aria-label":_.Ru._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,s.jsx)(J.g,{icon:T.QLR}),onClick:p,isDisabled:r})})]}),i&&!r&&(0,s.jsx)(ek,{isPreview:!0,channel:i,activeTab:t,currentChannelId:l,addDocToChannel:j,user:o,isDisabled:!1},i.id),n.map(e=>(0,s.jsx)(ek,{channel:e,activeTab:t,currentChannelId:l,addDocToChannel:j,user:o,isDisabled:r},e.id)),!r&&0===n.length&&(0,s.jsxs)(y.az,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,children:[(0,s.jsx)($.E,{fontSize:"sm",children:(0,s.jsx)(O.x6,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:b.Ix}})}),(0,s.jsx)($.E,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,s.jsx)(Y.N,{color:"trueblue.600",href:"#",onClick:p,children:(0,s.jsx)(O.x6,{id:"Mxy55o"})})})]}),m&&(0,s.jsx)(ev.z,{isOpen:m,onClose:g,workspaceId:null==d?void 0:d.id}),c&&(0,s.jsx)(ej.uC,{doc:u,onSubmit:h,onClose:x})]})},eA=e=>{let{setIsSidebarVisible:i}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(w.B,{spacing:2,children:[(0,s.jsx)(w.B,{pt:2,children:(0,s.jsx)(y.az,{display:{sm:"lg",md:"none"},children:(0,s.jsx)(I.K,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,s.jsx)(J.g,{icon:T.GRI}),onClick:()=>i(!1)})})}),(0,s.jsxs)(w.B,{spacing:2,children:[(0,s.jsx)(S.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(S.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(S.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(S.E,{w:"100%",height:"32px",borderRadius:"md"})]})]}),(0,s.jsx)(E.h,{}),(0,s.jsx)(t.s,{justify:"center",align:"flex-end",children:(0,s.jsx)(y.az,{w:"30px",children:R.gu})})]})},eT=e=>{let{channelPreview:i,isSidebarVisible:n,setIsSidebarVisible:l,isReady:a,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}=e,u=(0,z.fW)(),j=(0,N.u)("changelog"),h=(0,N.u)("intercom"),m=(0,N.u)("shareFeedback"),p=(0,L.k)({initializeViaQuery:!0});return(0,s.jsxs)(t.s,{direction:"column",zIndex:"overlay",h:"var(--100vh)",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:n?"xl":"none",md:"none"},transform:n?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(".concat(u?"100%":"-100%",",0px)"),md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,s.jsx)(y.az,{display:{base:"none",md:"block"},children:(0,s.jsx)(e_,{isOffline:x,isChangelogEnabled:j,setIsSidebarVisible:l,isReady:a})}),(0,s.jsx)(t.s,{overflowY:"auto",h:"100vh",p:5,pt:0,pb:4,direction:"column",alignContent:"space-between",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.az,{display:{base:"block",md:"none"},children:(0,s.jsx)(e_,{isOffline:x,isChangelogEnabled:j,setIsSidebarVisible:l,isReady:a})}),(0,s.jsx)(eR,{channelPreview:i,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}),(0,s.jsx)(y.az,{w:"100%",pt:1,pb:3,children:(0,s.jsx)(C.c,{})}),!x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.az,{display:{base:"block",lg:"none"},children:(0,s.jsx)(el,{iconGap:2})}),(0,s.jsx)(y.az,{display:{base:"block",lg:"none"},children:(0,s.jsx)(ei,{isOffline:x})})]}),(0,s.jsx)(eC,{tabKey:eE.n8.SETTINGS,isSelected:r===eE.n8.SETTINGS,href:"/".concat(eE.n8.SETTINGS),children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.SETTINGS].icon,title:eE.mQ[eE.n8.SETTINGS].displayName})}),h&&(0,s.jsx)(K,{dataTestId:"contact-button",onClick:p,isDisabled:x,children:(0,s.jsx)(ee,{icon:T.gSF,title:(0,s.jsx)(O.x6,{id:"mpby9d"})})}),!h&&(0,s.jsx)(K,{dataTestId:"contact-button",href:"mailto:".concat(D.J),isDisabled:x,children:(0,s.jsx)(ee,{icon:T.y_8,title:(0,s.jsx)(O.x6,{id:"A0C9La"})})}),m&&(0,s.jsx)(K,{dataTestId:"feedback-button",href:"https://ideas.gamma.app/ideas",target:"_blank","data-canny-link":!0,isDisabled:x,children:(0,s.jsx)(ee,{icon:T.O3E,title:(0,s.jsx)(O.x6,{id:"u5hSeG"})})}),(0,s.jsx)(E.h,{}),(0,s.jsx)(t.s,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,s.jsx)(y.az,{fontSize:"12px",width:"30px",children:R.gu})})]}):(0,s.jsx)(eA,{setIsSidebarVisible:l})})]})},eO=()=>(0,s.jsxs)(w.B,{pt:4,spacing:4,children:[(0,s.jsxs)(w.B,{w:"100%",px:2,pb:1,direction:"row",alignItems:"center",children:[(0,s.jsx)(k,{size:"36px"}),(0,s.jsxs)(w.B,{spacing:2,flex:1,children:[(0,s.jsx)(S.E,{width:"100%",height:"20px"}),(0,s.jsx)(S.E,{width:"60%",height:"16px"})]})]}),(0,s.jsx)(S.E,{width:"100%",height:"42px",borderRadius:"md"})]}),e_=e=>{let{isOffline:i,isChangelogEnabled:n,setIsSidebarVisible:l,isReady:a}=e,r=(0,P.En)();return(0,s.jsx)(w.B,{overflowY:"auto",px:{base:0,md:5},pt:2,pb:{base:4,md:4},direction:"column",alignContent:"space-between",overflow:"hidden",children:a&&r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.s,{alignItems:"flex-start",justify:"flex-end",children:(0,s.jsx)(y.az,{display:{base:"block",md:"none"},children:(0,s.jsx)(I.K,{size:"sm","aria-label":_.Ru._({id:"62Ciis"}),variant:"ghost",icon:(0,s.jsx)(f.U,{w:3}),onClick:()=>l(!1),isRound:!0})})}),(0,s.jsx)(B.bx,{}),(0,s.jsx)(F.r,{size:"sm",description:(0,s.jsx)(O.x6,{id:"+QNhGE"}),isConnected:!i,maxWidth:"300px",mt:3}),(0,s.jsxs)(w.B,{direction:"row",justifyContent:"center",alignItems:"center",mt:4,children:[(0,s.jsx)(g.Vb,{isDisabled:i}),n&&(0,s.jsx)(y.az,{display:{base:"block",md:"none"},children:(0,s.jsx)(eo,{isDisabled:i})})]})]}):(0,s.jsx)(eO,{})})},eR=e=>{let{channelPreview:i,activeTab:n,currentChannelId:t,channels:l,isChannelsLoading:a,isOffline:r}=e,o=(0,N.u)("customFonts"),d=(0,M.Fd)();return(0,s.jsxs)(w.B,{my:{base:0,md:2},"data-testid":"sidebar-tablist",w:"100%",spacing:1,children:[(0,s.jsxs)(w.B,{spacing:0,w:"100%",children:[(0,s.jsx)(eC,{tabKey:eE.n8.ALL,isSelected:n===eE.n8.ALL,href:"/#".concat(eE.n8.ALL),children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.ALL].icon,title:eE.mQ[eE.n8.ALL].displayName})}),(0,s.jsx)(eC,{tabKey:eE.n8.SHARED_WITH_YOU,isSelected:n===eE.n8.SHARED_WITH_YOU,href:"/#".concat(eE.n8.SHARED_WITH_YOU),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.SHARED_WITH_YOU].icon,title:eE.mQ[eE.n8.SHARED_WITH_YOU].displayName})}),d&&(0,s.jsx)(eC,{paddingInlineEnd:-1,tabKey:eE.n8.SITES,isSelected:n===eE.n8.SITES,href:"/#".concat(eE.n8.SITES),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.SITES].icon,title:eE.mQ[eE.n8.SITES].displayName,badge:(0,s.jsx)(A.E,{colorScheme:"trueblue",lineHeight:"normal",fontSize:"xxs",p:1,children:(0,s.jsx)(O.x6,{id:"YBt9YP"})})})}),(0,s.jsx)(eC,{paddingInlineEnd:-1,tabKey:eE.n8.IMAGES,isSelected:n===eE.n8.IMAGES,href:"/#".concat(eE.n8.IMAGES),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.IMAGES].icon,title:eE.mQ[eE.n8.IMAGES].displayName})})]}),(0,s.jsx)(eI,{channelPreview:i,isChannelsLoading:a,channels:l,currentChannelId:t,activeTab:n,isOffline:r}),(0,s.jsx)(y.az,{w:"100%",pt:1,pb:2,children:(0,s.jsx)(C.c,{})}),(0,s.jsxs)(w.B,{spacing:0,w:"100%",children:[!(0,U.Xb)()&&(0,s.jsx)(eC,{tabKey:eE.n8.TEMPLATES,isSelected:n===eE.n8.TEMPLATES,href:"/#".concat(eE.n8.TEMPLATES),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.TEMPLATES].icon,title:eE.mQ[eE.n8.TEMPLATES].displayName})}),(0,s.jsx)(eC,{tabKey:eE.n8.INSPIRATION,isSelected:n===eE.n8.INSPIRATION,href:"/#".concat(eE.n8.INSPIRATION),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.INSPIRATION].icon,title:eE.mQ[eE.n8.INSPIRATION].displayName})}),!(0,U.Xb)()&&(0,s.jsx)(eC,{tabKey:eE.n8.THEMES,isSelected:n===eE.n8.THEMES,href:"/#".concat(eE.n8.THEMES),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.THEMES].icon,title:eE.mQ[eE.n8.THEMES].displayName})}),o&&!(0,U.Xb)()&&(0,s.jsx)(eC,{tabKey:eE.n8.FONTS,isSelected:n===eE.n8.FONTS,href:"/#".concat(eE.n8.FONTS),isDisabled:r,children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.FONTS].icon,title:eE.mQ[eE.n8.FONTS].displayName})}),(0,s.jsx)(eC,{tabKey:eE.n8.TRASH,isSelected:n===eE.n8.TRASH,href:"/#".concat(eE.n8.TRASH),children:(0,s.jsx)(ee,{icon:eE.mQ[eE.n8.TRASH].icon,title:eE.mQ[eE.n8.TRASH].displayName})})]})]})};var eN=n(73893);let eD={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},ez=()=>(0,s.jsx)(t.s,{bg:"#1A013F",direction:"column",mb:4,children:(0,s.jsxs)(t.s,{py:4,px:8,direction:["column","row"],children:[(0,s.jsxs)(w.B,{mr:[0,4],children:[(0,s.jsx)($.E,{fontSize:"xl",sx:eD,children:"Meet Gamma, the fast alternative to slides"}),(0,s.jsx)($.E,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,s.jsx)(E.h,{}),(0,s.jsxs)(X.z,{mt:[2,0],children:[(0,s.jsx)(V.$,{as:"a",href:"/signup",children:"Make your own"}),(0,s.jsx)(V.$,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:()=>{window.location.href="".concat(eN.$.API_HOST,"/logout")},children:"Sign out"})]})]})});var eL=n(36828),eM=n(2219),eF=n(71197);let eB=e=>{let{ariaLabel:i,displayName:n,icon:t,channel:l,isOffline:a,containerPadding:r}=e,o=(null==l?void 0:l.name)||n,{credits:d}=(0,eF.B9)(),{isOpen:c,onOpen:x,onClose:u}=(0,ed.j)({id:"ai-credits-modal"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(X.z,{h:"1.5em",pl:r,ml:2,children:[(0,s.jsxs)(eM.D,{fontSize:"md",fontWeight:"600","data-testid":"docs-view-header",children:[t&&(0,s.jsx)(J.g,{icon:t,"aria-label":i()}),(0,s.jsx)($.E,{as:"span",marginInlineStart:2,children:o})]}),(0,s.jsx)(E.h,{})]}),!a&&(0,s.jsx)(W.m,{credits:d,isOpen:c,onClose:u,onOpen:x})]})},eU="50px",eP=e=>{let{containerPadding:i,isOffline:n,hasScrolledBeyondThreshold:t}=e,l=(0,N.u)("changelog"),{hasUnlimitedCredits:a,isCreditsReady:r}=(0,G.x)(),{activeTab:o,channelPreview:d,activeChannel:c}=(0,eL.q)(),{displayName:x,ariaLabel:u,icon:j}=eE.mQ[o];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eH,{hasScrolled:t,containerPadding:i,width:t?"auto":"fit-content",children:t&&(0,s.jsx)(eB,{ariaLabel:u,displayName:x,icon:j,isOffline:n,channel:d||c,containerPadding:i})}),(0,s.jsxs)(eW,{containerPadding:i,width:t?"100%":"fit-content",alignSelf:"flex-end",children:[(0,s.jsx)(ea.Tz,{label:n?_.Ru._({id:"ysdDIA"}):"","aria-label":n?_.Ru._({id:"ysdDIA"}):"",placement:"bottom",children:(0,s.jsxs)(y.az,{display:"flex",flexDirection:"row",alignItems:"center",children:[r&&!a&&(0,s.jsxs)(y.az,{display:{base:"none",lg:"flex"},cursor:n?"not-allowed":"pointer",children:[(0,s.jsx)(el,{iconGap:0,isOffline:n}),(0,s.jsx)(ei,{isOffline:n,iconGap:0})]}),l&&(0,s.jsx)(eo,{isDisabled:n})]})}),(0,s.jsx)(R.XR,{})]})]})},eH=e=>{let{children:i,containerPadding:n,hasScrolled:t,...l}=e,a=(0,z.fW)();return(0,s.jsx)(X.z,{bg:t?"white":"transparent",borderBottomWidth:t?"1px":"0px",borderBottomColor:t?"gray.100":"transparent",borderTopWidth:"0px",borderTopColor:t?"transparent":"gray.200",borderLeftWidth:"0px",borderLeftColor:"gray.100",zIndex:"sticky",top:0,right:a?-5:0,left:a?0:-5,alignItems:"center",p:2,py:1.5,paddingInlineEnd:6,gap:2,h:eU,transitionProperty:"common",transitionDuration:"normal","data-print-hidden":!0,justifyContent:"flex-start",position:"sticky",display:{base:"none",md:"flex"},m:-n,"data-sticky-topbar-wrapper":!0,...l,children:i})},eW=e=>{let{children:i,containerPadding:n,...t}=e;return(0,s.jsx)(X.z,{justifyContent:"flex-end","data-topbar-wrapper":!0,zIndex:"sticky",position:"sticky",top:0,left:0,right:0,py:1.5,alignItems:"center",gap:2,my:-n,display:{base:"none",md:"flex"},...t,children:i})},eG=e=>{let{children:i}=e,{isInOfflineMode:n,isConnected:l}=(0,h.u)(),{user:a,activeChannel:r,activeTab:d,userHasNoWorkspaces:f,currentChannelId:y,channelPreview:C,channels:E,isChannelsLoading:w,isSidebarVisible:S,setIsSidebarVisible:k}=(0,eL.q)(),I=(0,P.En)(),A=I&&(0,U.Xb)()?4:6,T=I&&(0,U.Xb)()?2:void 0,[O,_]=(0,x.useState)(!1),R=(0,x.useCallback)(()=>{_(window.scrollY>50)},[]),N=(0,P.wb)(R,100);(0,x.useEffect)(()=>{if(!(0,U.Xb)())return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[N]);let D=d?d===eE.uL.CHANNEL&&(null==r?void 0:r.name)?"".concat(null==r?void 0:r.name," - ").concat(b.On):"".concat(eE.mQ[d].ariaLabel()," - ").concat(b.On):"".concat(b.On);return(0,s.jsxs)(u.Q,{backend:j.t2,children:[(0,s.jsxs)(t.s,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:D})}),(0,s.jsx)(g.X2,{}),f?null:(0,s.jsx)(eT,{channelPreview:C,isSidebarVisible:S,setIsSidebarVisible:k,user:a,isReady:!!a,activeTab:d,currentChannelId:y,channels:E,isChannelsLoading:w,isOffline:n}),(0,s.jsx)(t.s,{transition:"margin .2s ease",width:"100%",bg:"gray.200",sx:{"&::before":{content:'""',position:"absolute",left:0,top:O&&I?eU:0,bottom:0,width:"1px",background:"var(--chakra-colors-gray-100)",transition:"top 0.2s ease"}},position:"relative",children:(0,s.jsxs)(t.s,{"data-testid":"doc-root-main",flex:"1",px:A,py:A,w:"100%",bg:"gray.100",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease",children:[I&&!(0,U.Xb)()&&(0,s.jsx)(eP,{containerPadding:A,isOffline:!l,hasScrolledBeyondThreshold:O}),f&&(0,s.jsx)(ez,{}),(0,s.jsx)(o.m,{maxW:"80em",p:T,h:"100%",children:i})]})})]}),(0,s.jsx)(p.x,{children:(0,s.jsx)(m.P,{showShortcuts:!1})}),!n&&(0,s.jsx)(v.P,{})]})},eQ=e=>{let{children:i}=e;return(0,s.jsxs)(t.s,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",p:0,children:[(0,s.jsx)(l.mL,{styles:{body:{overflowY:"scroll"}}}),(0,s.jsx)(a.n,{}),(0,s.jsx)(r.TQ,{children:(0,s.jsx)(eG,{children:i})})]})};function eV(e){let i=i=>(0,s.jsx)(eQ,{children:(0,s.jsx)(e,{...i})});return"getInitialProps"in e&&(i.getInitialProps=e.getInitialProps),i}},68253:(e,i,n)=>{n.d(i,{v:()=>s});let s="ChannelDocDragItemType"},4937:(e,i,n)=>{n.d(i,{Hz:()=>t});let s=e=>(i,n)=>i.id===e?1:n.id===e?-1:0,t=(e,i)=>[...e].sort(s(i))},31223:(e,i,n)=>{n.d(i,{m:()=>d});var s=n(63552),t=n(74108),l=n(11403),a=n(31171),r=n(11976),o=n(31085),d=(0,s.R)(function(e,i){let{className:n,centerContent:s,...d}=(0,t.MN)(e),c=(0,l.Vl)("Container",e);return(0,o.jsx)(a.B.div,{ref:i,className:(0,r.cx)("chakra-container",n),...d,__css:{...c,...s&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});d.displayName="Container"}}]);
//# sourceMappingURL=2872-487718133e94b2cd.js.map